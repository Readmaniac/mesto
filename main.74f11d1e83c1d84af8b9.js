(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e){var n=e.data,r=e.template,o=e.userId,i=e.handleCardClick,a=e.handleCardDelete,c=e.handleSetLike,u=e.handleRemoveLike;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._data=n,this._cardId=n._id,this._userId=o,this._cardOwnerId=n.owner._id,this._template=r,this._name=n.name,this._link=n.link,this._handleCardClick=i,this._handleCardDelete=a,this._handleSetLike=c,this._handleRemoveLike=u,this._likes=n.likes}var n,r;return n=t,(r=[{key:"createNewCard",value:function(){return this._cardElement=this._getTemplate(),this._cardTitle=this._cardElement.querySelector(".elements__name"),this._cardTitle.textContent=this._name,this._cardImage=this._cardElement.querySelector(".elements__image"),this._buttonLike=this._cardElement.querySelector(".elements__likes-btn"),this._likesNumber=this._cardElement.querySelector(".elements__likes-number"),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._buttonDelete=this._cardElement.querySelector(".elements__delete"),this._isLikedByUser=this._hasUserLike(),this._isCardLiked(),this._setDeleteBtn(),this._likesNumber.textContent=this._likes.length,this._setsEventListeners(),this._cardElement}},{key:"_getTemplate",value:function(){return document.querySelector(this._template).content.querySelector(".elements__container").cloneNode(!0)}},{key:"deleteCard",value:function(){this._cardElement.remove(),this._cardElement=null}},{key:"_setsEventListeners",value:function(){var e=this;this._buttonDelete.addEventListener("click",(function(){e._handleCardDelete(e._cardId)})),this._cardImage.addEventListener("click",(function(){e._handleCardClick()})),this._buttonLike.addEventListener("click",(function(){e._buttonLike.classList.contains("elements__likes_active")?e._handleRemoveLike(e._cardId):e._handleSetLike(e._cardId)}))}},{key:"handleLikeCard",value:function(e){this._buttonLike.classList.toggle("elements__likes_active"),this._likes=e.likes,this._likesNumber.textContent=this._likes.length}},{key:"_isCardLiked",value:function(){this._isLikedByUser&&this._buttonLike.classList.add("elements__likes_active")}},{key:"_hasUserLike",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._userId}))}},{key:"_setDeleteBtn",value:function(){this._userId!==this._cardOwnerId&&this._buttonDelete.remove()}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function(){function e(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"_setEventListeners",(function(){o._formFields.forEach((function(e){e.addEventListener("input",(function(){var t=e;o._checkFormValidity(),o._checkFieldValidity(t,o._findFieldError(e),o._formsConfig.inputErrorClass)}))}))})),r(this,"_checkFormValidity",(function(){var e=o._formFields.every((function(e){return e.validity.valid}));return o._toggleSubmitButton({disable:e}),e})),r(this,"_checkFieldValidity",(function(e,t,n){t.textContent=e.validationMessage,e.valid?e.classList.remove(n):e.classList.add(n)})),r(this,"_toggleSubmitButton",(function(e){var t=e.disable;o._buttonSubmitForm.disabled=!t})),this._formsConfig=n,this._formElement=t,this._inputList=this._formElement.querySelectorAll(this._formsConfig.inputSelector),this._buttonSubmitForm=this._formElement.querySelector(this._formsConfig.submitButtonSelector),this._formFields=Array.from(this._formElement.querySelectorAll(this._formsConfig.inputSelector))}var t,o;return t=e,(o=[{key:"enableValidation",value:function(){this._toggleSubmitButton({disable:!1}),this._setEventListeners()}},{key:"resetValidation",value:function(){var e=this;this._toggleSubmitButton({disable:!1}),this._inputList.forEach((function(t){e._hideError(t)}))}},{key:"_findFieldError",value:function(e){return this._formElement.querySelector("".concat(this._formsConfig.errorClass).concat(e.name))}},{key:"_hideError",value:function(e){this._findFieldError(e).textContent=""}}])&&n(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._container=document.querySelector(t),this._renderer=n}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"renderItem",value:function(e){this._renderer(e)}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(e){"Escape"===e.key&&o.close()},(n="_handleEscClose")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._popup=document.querySelector(t)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keyup",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keyup",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){(t.target.classList.contains("overlay")||t.target.classList.contains("popup__close-icon"))&&e.close()}))}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=h(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},f.apply(this,arguments)}function h(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function d(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(r);if(o){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._pictureImage=t._popup.querySelector(".picture__image"),t._pictureName=t._popup.querySelector(".picture__name"),t}return t=a,(n=[{key:"open",value:function(e,t){this._pictureImage.src=t,this._pictureName.textContent=e,this._pictureImage.alt=e,f(y(a.prototype),"open",this).call(this)}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(u);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=g(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},v.apply(this,arguments)}function g(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function S(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(r);if(o){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return S(this,e)});function a(e){var t,n=e.popupSelector,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._handleFormSubmit=r,t._form=t._popup.querySelector(".form"),t._inputList=t._form.querySelectorAll(".form__input"),t._btnSubmit=t._form.querySelector(".form__save"),t._btnSubmitText=t._btnSubmit.textContent,t}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;v(w(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())}))}},{key:"close",value:function(){this._form.reset(),v(w(a.prototype),"close",this).call(this)}},{key:"setInputValues",value:function(e){this._inputList.forEach((function(t){t.value=e[t.name]}))}},{key:"toggleSubmitButtonText",value:function(e){this._btnSubmit.textContent=e}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(u);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=j(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},L.apply(this,arguments)}function j(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function I(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(r);if(o){var n=T(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return I(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._form=t._popup.querySelector(".popup__form"),t}return t=a,(n=[{key:"setSubmitCallback",value:function(e){this._handleSubmit=e}},{key:"setEventListeners",value:function(){var e=this;L(T(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("click",(function(t){t.preventDefault(),e._handleSubmit()}))}}])&&C(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(u);function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var q=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameField=document.querySelector(t),this._jobField=document.querySelector(n),this._avatarField=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._nameField.textContent,link:this._jobField.textContent,avatar:this._avatarField.src}}},{key:"setUserInfo",value:function(e){this._nameField.textContent=e.name,this._jobField.textContent=e.about,this._avatarField.src=e.avatar}},{key:"setAvatar",value:function(e){this._avatarField.src=e.avatar}}])&&F(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var A=new WeakSet,D=function(){function e(t){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(n=this,r=A),r.add(n),this._url=t.url,this._headers=t.headers}var t,n;return t=e,(n=[{key:"addCard",value:function(e){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(B(this,A,U))}},{key:"getAllCards",value:function(){return fetch("".concat(this._url,"/cards"),{method:"GET",headers:this._headers}).then(B(this,A,U))}},{key:"removeCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(B(this,A,U))}},{key:"getUsersInfo",value:function(){var e=this;return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:this._headers}).then((function(t){return B(e,A,U).call(e,t)}))}},{key:"editUserInfo",value:function(e){var t=this;return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.link})}).then((function(e){return B(t,A,U).call(t,e)}))}},{key:"editUserAvatar",value:function(e){var t=this;return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.link})}).then((function(e){return B(t,A,U).call(t,e)}))}},{key:"setLike",value:function(e){var t=this;return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"PUT",headers:this._headers}).then((function(e){return B(t,A,U).call(t,e)}))}},{key:"removeLike",value:function(e){var t=this;return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then((function(e){return B(t,A,U).call(t,e)}))}}])&&x(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function U(e){return e.ok?e.json():Promise.reject({message:"Ошибка на стороне сервера",res:e})}var V=document.querySelector(".profile__edit-button"),N=".delete-card",J=document.querySelector(".profile__add-elements"),z=document.querySelector(".profile__btn"),G="Сохранить",H="Сохранение...",M=(document.querySelector(N),{});function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=new D({url:"https://nomoreparties.co/v1/cohort-54",headers:{"Content-Type":"application/json",authorization:"7ad4b367-9863-4a09-9138-d86794effb54"}}),K=null;Promise.all([$.getAllCards(),$.getUsersInfo()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];K=i._id,ne.setUserInfo(i),o.reverse().forEach((function(e){te.renderItem(e)}))})).catch((function(e){console.log("Ошибка: ".concat(e))}));var Q=new E({popupSelector:".popup-profile",handleFormSubmit:function(e){Q.toggleSubmitButtonText(H),$.editUserInfo(e).then((function(e){ne.setUserInfo(e),Q.close()})).catch((function(e){console.log("Ошибка: ".concat(e))})).finally((function(){Q.toggleSubmitButtonText(G)}))}});Q.setEventListeners();var X=new E({popupSelector:".popup-avatar",handleFormSubmit:function(e){X.toggleSubmitButtonText(H),$.editUserAvatar(e).then((function(e){ne.setAvatar(e),X.close()})).catch((function(e){console.log("Ошибка: ".concat(e))})).finally((function(){X.toggleSubmitButtonText(G)}))}});X.setEventListeners();var Y=new E({popupSelector:".popup-card",handleFormSubmit:function(e){Y.toggleSubmitButtonText(H),$.addCard(e).then((function(e){Y.close(),te.renderItem(e)})).catch((function(e){console.log("Ошибка: ".concat(e))})).finally((function(){Y.toggleSubmitButtonText("Создать")}))}});Y.setEventListeners();var Z=new _(".picture");Z.setEventListeners();var ee,te=new a(".elements",(function(e){var n,r;te.addItem((r=new t({data:n=e,template:"#element-template",userId:K,handleCardClick:function(){Z.open(n.name,n.link)},handleCardDelete:function(e){re.open(),re.setSubmitCallback((function(){$.removeCard(e).then((function(){re.close(),r.deleteCard()})).catch((function(e){console.log("Ошибка: ".concat(e))}))}))},handleSetLike:function(e){$.setLike(e).then((function(e){r.handleLikeCard(e)})).catch((function(e){console.log("Ошибка: ".concat(e))}))},handleRemoveLike:function(e){$.removeLike(e).then((function(e){r.handleLikeCard(e)})).catch((function(e){console.log("Ошибка: ".concat(e))}))}})).createNewCard())})),ne=new q(".profile__title",".profile__subtitle",".profile__avatar"),re=new R(N);re.setEventListeners(),V.addEventListener("click",(function(){var e=ne.getUserInfo();Q.setInputValues(e),Q.open(),M.profile.resetValidation()})),J.addEventListener("click",(function(){M.place.resetValidation(),Y.open()})),z.addEventListener("click",(function(){X.open()})),ee={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__save",inputErrorClass:".form__item-input_invalid",errorClass:".form__item-error_field_",submitForm:".form__save"},Array.from(document.querySelectorAll(ee.formSelector)).forEach((function(e){var t=new o(e,ee),n=e.getAttribute("name");M[n]=t,t.enableValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVIsa0JBQXVCRixHQUN4QixHQUNKLEVBRURySyxpQkFBa0IsU0FBQzRJLEdBQ2pCYSxFQUFJbUMsV0FBV2hELEdBQ1pELE1BQUssU0FBQ2pKLEdBQ0w2RixFQUFLb0csZUFBZWpNLEVBQ3JCLElBSEgsT0FJUyxTQUFDMkssR0FDTkMsUUFBUUMsSUFBUixrQkFBdUJGLEdBQ3hCLEdBQ0osS0FHT3dCLGdCQXJEYixJQUVLN0IsR0FBa0IsSUFBSXpDLEVEM0ZiLGtCQUNELHFCQUNHLG9CQzJGWCtELEdBQXlCLElBQUlsRSxFQUFnQmdDLEdBQ25Ea0MsR0FBdUJWLG9CQTBEdkJ6QixFQUFZM0csaUJBQWlCLFNBUDdCLFdBQ0UsSUFBTXNKLEVBQWU5QixHQUFnQitCLGNBQ3JDdkIsRUFBcUJ3QixlQUFlRixHQUNwQ3RCLEVBQXFCYSxPQUNyQjdCLEVBQUFBLFFBQUFBLGlCQUNELElBSURILEVBQVE3RyxpQkFBaUIsU0FBUyxXQUNoQ2dILEVBQUFBLE1BQUFBLGtCQUNBd0IsRUFBbUJLLE1BQ3BCLElBRUQvQixFQUFjOUcsaUJBQWlCLFNBQVMsV0FFdENxSSxFQUFZUSxNQUNiLElBRXlCcEksR0QzSkgsQ0FDckJnSixhQUFjLFFBQ2R4SCxjQUFlLGVBQ2ZDLHFCQUFzQixjQUN0QmhCLGdCQUFpQiw0QkFDakJzQixXQUFZLDJCQUNaa0gsV0FBWSxlQ3NKS3ZILE1BQU1DLEtBQUt4QyxTQUFTb0MsaUJBQWlCdkIsR0FBWWdKLGVBQ3pEOUksU0FBUSxTQUFDSCxHQUNoQixJQUFNbUosRUFBWSxJQUFJcEosRUFBY0MsRUFBYUMsSUFDM0NtSixFQUFXcEosRUFBWXFKLGFBQWEsUUFDMUM3QyxFQUFlNEMsR0FBWUQsRUFDM0JBLEVBQVVHLGtCQUNYLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0LmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBDYXJke1xuICBjb25zdHJ1Y3Rvcih7ZGF0YSwgdGVtcGxhdGUsIHVzZXJJZCwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVDYXJkRGVsZXRlLCBoYW5kbGVTZXRMaWtlLCBoYW5kbGVSZW1vdmVMaWtlfSl7XG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5fY2FyZElkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xuICAgIHRoaXMuX2NhcmRPd25lcklkID0gZGF0YS5vd25lci5faWQ7XG4gICAgdGhpcy5fdGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX2hhbmRsZUNhcmREZWxldGUgPSBoYW5kbGVDYXJkRGVsZXRlO1xuICAgIHRoaXMuX2hhbmRsZVNldExpa2UgPSBoYW5kbGVTZXRMaWtlO1xuICAgIHRoaXMuX2hhbmRsZVJlbW92ZUxpa2UgPSBoYW5kbGVSZW1vdmVMaWtlO1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgfVxuXG4gIGNyZWF0ZU5ld0NhcmQoKXtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19uYW1lJyk7XG4gICAgdGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2ltYWdlJyk7XG4gICAgdGhpcy5fYnV0dG9uTGlrZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19fbGlrZXMtYnRuJyk7XG4gICAgdGhpcy5fbGlrZXNOdW1iZXIgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2xpa2VzLW51bWJlcicpO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2J1dHRvbkRlbGV0ZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19fZGVsZXRlJyk7XG4gICAgdGhpcy5faXNMaWtlZEJ5VXNlciA9IHRoaXMuX2hhc1VzZXJMaWtlKCk7XG4gICAgdGhpcy5faXNDYXJkTGlrZWQoKTtcbiAgICB0aGlzLl9zZXREZWxldGVCdG4oKVxuICAgIHRoaXMuX2xpa2VzTnVtYmVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuICAgIHRoaXMuX3NldHNFdmVudExpc3RlbmVycygpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xuICB9XG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlKVxuICAgICAgLmNvbnRlbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2NvbnRhaW5lcicpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG5cbiAgZGVsZXRlQ2FyZCgpe1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcbiAgfVxuXG4gIF9zZXRzRXZlbnRMaXN0ZW5lcnMoKXtcbiAgICB0aGlzLl9idXR0b25EZWxldGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVDYXJkRGVsZXRlKHRoaXMuX2NhcmRJZCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2soKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2J1dHRvbkxpa2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5fYnV0dG9uTGlrZS5jbGFzc0xpc3QuY29udGFpbnMoJ2VsZW1lbnRzX19saWtlc19hY3RpdmUnKSl7XG4gICAgICAgIHRoaXMuX2hhbmRsZVJlbW92ZUxpa2UodGhpcy5fY2FyZElkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZVNldExpa2UodGhpcy5fY2FyZElkKVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlTGlrZUNhcmQoZGF0YSl7XG4gICAgdGhpcy5fYnV0dG9uTGlrZS5jbGFzc0xpc3QudG9nZ2xlKCdlbGVtZW50c19fbGlrZXNfYWN0aXZlJyk7XG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xuICAgIHRoaXMuX2xpa2VzTnVtYmVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuICB9XG5cbiAgX2lzQ2FyZExpa2VkKCkge1xuICAgIGlmICh0aGlzLl9pc0xpa2VkQnlVc2VyKSB7XG4gICAgICB0aGlzLl9idXR0b25MaWtlLmNsYXNzTGlzdC5hZGQoJ2VsZW1lbnRzX19saWtlc19hY3RpdmUnKTtcbiAgICB9XG4gIH1cblxuICBfaGFzVXNlckxpa2UoKXtcbiAgICByZXR1cm4gdGhpcy5fbGlrZXMuc29tZShlbGVtZW50ID0+IGVsZW1lbnQuX2lkID09PSB0aGlzLl91c2VySWQpO1xuICB9XG5cbiAgX3NldERlbGV0ZUJ0bigpIHtcbiAgICBpZiAodGhpcy5fdXNlcklkICE9PSB0aGlzLl9jYXJkT3duZXJJZCkge1xuICAgICAgdGhpcy5fYnV0dG9uRGVsZXRlLnJlbW92ZSgpO1xuICAgIH1cbiAgfVxufSIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoZm9ybUVsZW1lbnQsIGZvcm1zQ29uZmlnKXtcbiAgICB0aGlzLl9mb3Jtc0NvbmZpZyA9IGZvcm1zQ29uZmlnO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9mb3Jtc0NvbmZpZy5pbnB1dFNlbGVjdG9yKTtcbiAgICB0aGlzLl9idXR0b25TdWJtaXRGb3JtID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9mb3Jtc0NvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgdGhpcy5fZm9ybUZpZWxkcyA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9mb3Jtc0NvbmZpZy5pbnB1dFNlbGVjdG9yKSk7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3RvZ2dsZVN1Ym1pdEJ1dHRvbih7IGRpc2FibGU6IGZhbHNlIH0pO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICByZXNldFZhbGlkYXRpb24oKXtcbiAgICB0aGlzLl90b2dnbGVTdWJtaXRCdXR0b24oeyBkaXNhYmxlOiBmYWxzZSB9KTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlRXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHsgICAgXG4gICAgdGhpcy5fZm9ybUZpZWxkcy5mb3JFYWNoKChlbGVtZW50RmllbGQpID0+IHtcbiAgICAgIGVsZW1lbnRGaWVsZC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgY29uc3QgZmllbGQgPSBlbGVtZW50RmllbGQ7XG4gICAgICAgIHRoaXMuX2NoZWNrRm9ybVZhbGlkaXR5KCk7XG4gICAgICAgIHRoaXMuX2NoZWNrRmllbGRWYWxpZGl0eShmaWVsZCwgdGhpcy5fZmluZEZpZWxkRXJyb3IoZWxlbWVudEZpZWxkKSx0aGlzLl9mb3Jtc0NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgX2ZpbmRGaWVsZEVycm9yKGVsZW1lbnRGaWVsZCl7XG4gICAgY29uc3QgZXJyb3JGaWVsZCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fZm9ybXNDb25maWcuZXJyb3JDbGFzc30ke2VsZW1lbnRGaWVsZC5uYW1lfWApO1xuICAgIHJldHVybiBlcnJvckZpZWxkO1xuICB9XG5cbiAgX2NoZWNrRm9ybVZhbGlkaXR5ID0gKCkgPT4ge1xuICAgIGNvbnN0IGZvcm1Jc1ZhbGlkID0gdGhpcy5fZm9ybUZpZWxkcy5ldmVyeSgoeyB2YWxpZGl0eSB9KSA9PiB2YWxpZGl0eS52YWxpZCk7XG4gICAgdGhpcy5fdG9nZ2xlU3VibWl0QnV0dG9uKHsgZGlzYWJsZTogZm9ybUlzVmFsaWQgfSk7XG4gICAgcmV0dXJuIGZvcm1Jc1ZhbGlkO1xuICB9O1xuXG4gIF9jaGVja0ZpZWxkVmFsaWRpdHkgPSAoZWxlbWVudEZpZWxkLCBlbGVtZW50RXJyb3IsIGludmFsaWRGaWVsZENsYXNzKSA9PiB7XG4gICAgZWxlbWVudEVycm9yLnRleHRDb250ZW50ID0gZWxlbWVudEZpZWxkLnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGlmICghZWxlbWVudEZpZWxkLnZhbGlkKSB7XG4gICAgICBlbGVtZW50RmllbGQuY2xhc3NMaXN0LmFkZChpbnZhbGlkRmllbGRDbGFzcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1lbnRGaWVsZC5jbGFzc0xpc3QucmVtb3ZlKGludmFsaWRGaWVsZENsYXNzKTsgXG4gICAgfVxuICB9O1xuXG4gIF90b2dnbGVTdWJtaXRCdXR0b24gPSAoeyBkaXNhYmxlIH0pID0+IHtcbiAgICAgIHRoaXMuX2J1dHRvblN1Ym1pdEZvcm0uZGlzYWJsZWQgPSAhZGlzYWJsZTtcbiAgfTtcblxuICBfaGlkZUVycm9yKGlucHV0RWxlbWVudCl7XG4gICAgdGhpcy5fZmluZEZpZWxkRXJyb3IoaW5wdXRFbGVtZW50KS50ZXh0Q29udGVudCA9ICcnO1xuICB9XG59IiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcihjb250YWluZXJTZWxlY3RvciwgcmVuZGVyZXIpe1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpe1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpXG4gIH1cblxuICByZW5kZXJJdGVtKGNhcmQpe1xuICAgIHRoaXMuX3JlbmRlcmVyKGNhcmQpXG4gIH1cbn0iLCJleHBvcnQgY2xhc3MgUG9wdXB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3Ipe1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcbiAgICBpZihldnQua2V5ID09PSdFc2NhcGUnKXtcbiAgICAgIHRoaXMuY2xvc2UoKVxuICAgIH1cbiAgfVxuXG4gIG9wZW4oKXtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpXG4gIH1cblxuICBjbG9zZSgpe1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSlcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChldnQpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdvdmVybGF5JykpIHx8XG4gICAgICAgIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfX2Nsb3NlLWljb24nKSlcbiAgICAgICkge1xuICAgICAgICB0aGlzLmNsb3NlKClcbiAgICAgIH1cbiAgICB9KVxuICB9XG59IiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcil7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcGljdHVyZUltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBpY3R1cmVfX2ltYWdlJyk7XG4gICAgdGhpcy5fcGljdHVyZU5hbWUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucGljdHVyZV9fbmFtZScpO1xuICB9XG5cbiAgb3Blbih0aXRsZSwgcGljdHVyZSl7XG4gICAgdGhpcy5fcGljdHVyZUltYWdlLnNyYz1waWN0dXJlO1xuICAgIHRoaXMuX3BpY3R1cmVOYW1lLnRleHRDb250ZW50PXRpdGxlO1xuICAgIHRoaXMuX3BpY3R1cmVJbWFnZS5hbHQ9dGl0bGU7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXB7XG4gIGNvbnN0cnVjdG9yKHtwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0fSl7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybV9faW5wdXQnKTtcbiAgICB0aGlzLl9idG5TdWJtaXQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19zYXZlJyk7XG4gICAgdGhpcy5fYnRuU3VibWl0VGV4dCA9IHRoaXMuX2J0blN1Ym1pdC50ZXh0Q29udGVudDtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpe1xuICAgIHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlc1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKXtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgfSk7XG4gIH1cblxuICBjbG9zZSgpe1xuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcbiAgICBzdXBlci5jbG9zZSgpO1xuICB9XG5cbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXQudmFsdWUgPSBkYXRhW2lucHV0Lm5hbWVdO1xuICAgIH0pO1xuICB9XG5cbiAgdG9nZ2xlU3VibWl0QnV0dG9uVGV4dChidXR0b25UZXh0KSB7XG4gICAgdGhpcy5fYnRuU3VibWl0LnRleHRDb250ZW50ID0gYnV0dG9uVGV4dDtcbiAgfVxufSIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aFN1Ym1pdCBleHRlbmRzIFBvcHVwe1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKXtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XG4gIH1cblxuICBzZXRTdWJtaXRDYWxsYmFjayhkZWwpe1xuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IGRlbDtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXQoKTtcbiAgICB9KTtcbiAgfVxufSIsImV4cG9ydCBjbGFzcyBVc2VySW5mb3tcbiAgY29uc3RydWN0b3IobmFtZVNlbGVjdG9yLCBqb2JTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3Ipe1xuICAgIHRoaXMuX25hbWVGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9qb2JGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioam9iU2VsZWN0b3IpO1xuICAgIHRoaXMuX2F2YXRhckZpZWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XG4gIH1cblxuICBnZXRVc2VySW5mbygpe1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9uYW1lRmllbGQudGV4dENvbnRlbnQsIFxuICAgICAgbGluazogdGhpcy5fam9iRmllbGQudGV4dENvbnRlbnQsXG4gICAgICBhdmF0YXI6IHRoaXMuX2F2YXRhckZpZWxkLnNyY1xuICAgIH1cbiAgfVxuXG4gIHNldFVzZXJJbmZvKGRhdGEpe1xuICAgIHRoaXMuX25hbWVGaWVsZC50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9qb2JGaWVsZC50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XG4gICAgdGhpcy5fYXZhdGFyRmllbGQuc3JjID0gZGF0YS5hdmF0YXI7XG4gIH1cblxuICBzZXRBdmF0YXIoZGF0YSl7XG4gICAgdGhpcy5fYXZhdGFyRmllbGQuc3JjID0gZGF0YS5hdmF0YXI7XG4gIH1cbn0iLCJleHBvcnQgY2xhc3MgQXBpIHtcbiAgI29uUmVzcG9uY2UocmVzKXtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gIHJldHVybiBQcm9taXNlLnJlamVjdCh7bWVzc2FnZTogJ9Ce0YjQuNCx0LrQsCDQvdCwINGB0YLQvtGA0L7QvdC1INGB0LXRgNCy0LXRgNCwJywgcmVzfSlcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZyl7XG4gICAgdGhpcy5fdXJsID0gY29uZmlnLnVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7XG4gIH1cblxuLy8g0JTQvtCx0LDQstC40YLRjCDQutCw0YDRgtC+0YfQutGDXG4gIGFkZENhcmQoZGF0YSl7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxuICAgIH0pXG4gICAgLnRoZW4odGhpcy4jb25SZXNwb25jZSlcbiAgfVxuXG4vLyDQl9Cw0LHRgNCw0YLRjCDRgSDRgdC10YDQstC10YDQsCDQstGB0LUg0LrQsNGA0YLQvtGH0LrQuFxuICBnZXRBbGxDYXJkcygpe1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSlcbiAgICAudGhlbih0aGlzLiNvblJlc3BvbmNlKVxuICB9XG5cbi8vINCj0LTQsNC70LjRgtGMINC60LDRgNGC0L7Rh9C60YNcbiAgcmVtb3ZlQ2FyZChjYXJkSWQpe1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSlcbiAgICAudGhlbih0aGlzLiNvblJlc3BvbmNlKVxuICB9XG5cbi8vINCX0LDQsdGA0LDRgtGMINGBINGB0LXRgNCy0LXRgNCwINC40L3RhNC+INGO0LfQtdGA0LBcbiAgZ2V0VXNlcnNJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pXG4gICAgLnRoZW4ocmVzID0+IHRoaXMuI29uUmVzcG9uY2UocmVzKSk7XG4gIH1cblxuLy8g0KDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjQtSDQuNC90YTQvtGA0LzQsNGG0LjQuCDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LUg0YfQtdGA0LXQtyDQv9C+0L/QsNC/XG4gIGVkaXRVc2VySW5mbyhkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgICBhYm91dDogZGF0YS5saW5rXG4gICAgICB9KVxuICAgIH0pXG4gICAgLnRoZW4ocmVzID0+IHRoaXMuI29uUmVzcG9uY2UocmVzKSk7XG4gIH1cblxuLy8g0KDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjQtSDQuNC90YTQvtGA0LzQsNGG0LjQuCDQvtCxINCw0LLQsNGC0LDRgNC1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDRh9C10YDQtdC3INC/0L7Qv9Cw0L9cbiAgZWRpdFVzZXJBdmF0YXIoZGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgYXZhdGFyOiBkYXRhLmxpbmtcbiAgICAgIH0pXG4gICAgfSlcbiAgICAudGhlbihyZXMgPT4gdGhpcy4jb25SZXNwb25jZShyZXMpKTtcbiAgfVxuXG4vLyDQoNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC1INC/0L7RgdGC0LDQvdC+0LLQutC4INC70LDQudC60LBcbiAgc2V0TGlrZShjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KVxuICAgIC50aGVuKHJlcyA9PiB0aGlzLiNvblJlc3BvbmNlKHJlcykpO1xuICB9XG5cbiAgcmVtb3ZlTGlrZShjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KVxuICAgIC50aGVuKHJlcyA9PiB0aGlzLiNvblJlc3BvbmNlKHJlcykpO1xuICB9XG59IiwiZXhwb3J0IGNvbnN0IHByb2ZpbGVPcGVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XG5cbmV4cG9ydCBjb25zdCBzZWxlY3RvcnMgPSB7XG4gIGZvcm1DYXJkOiAnLnBvcHVwLWNhcmQnLFxuICBwb3B1cFByb2ZpbGU6ICcucG9wdXAtcHJvZmlsZScsXG4gIHBvcHVwRGVsZXRlQ2FyZDogJy5kZWxldGUtY2FyZCcsXG4gIHBvcHVwQXZhdGFyOiAnLnBvcHVwLWF2YXRhcicsXG4gIGlucHV0TWVzdG86ICduYW1lJyxcbiAgaW5wdXRMaW5rOiAnbGluaycsXG4gIGFkZENhcmQ6ICcucHJvZmlsZV9fYWRkLWVsZW1lbnRzJyxcbiAgdGVtcGxhdGU6ICcjZWxlbWVudC10ZW1wbGF0ZScsXG4gIGNvbnRhaW5lcjogJy5lbGVtZW50c19fY29udGFpbmVyJyxcbiAgbGlzdDogJy5lbGVtZW50cycsXG4gIG1lc3RvVGl0bGU6ICcuZWxlbWVudHNfX25hbWUnLFxuICBtZXN0b0ltYWdlOiAnLmVsZW1lbnRzX19pbWFnZScsXG4gIG1lc3RvZGVsZXRlOiAnLmVsZW1lbnRzX19kZWxldGUnLFxuICBtZXN0b0xpa2U6ICcuZWxlbWVudHNfX2xpa2UnLFxuICBhY3RpdmVMaWtlOiAnZWxlbWVudHNfX2xpa2VzX2FjdGl2ZScsXG4gIGFkZENhcmRGb3JtQ2xvc2U6ICdjbG9zZWNhcmRzJyxcbiAgcG9wdXBJbWFnZTogJy5waWN0dXJlJyxcbiAgcGljdHVyZUltYWdlOiAnLnBpY3R1cmVfX2ltYWdlJyxcbiAgY2xvc2VQaWN0dXJlOidjbG9zZWRwaWN0dXJlJyxcbiAgcGljdHVyZU5hbWU6Jy5waWN0dXJlX19uYW1lJyxcbiAgc3VibWl0Rm9ybTogJy5mb3JtX19zYXZlJyxcbiAgcHJvZmlsZU5hbWU6ICcucHJvZmlsZV9fdGl0bGUnLFxuICBwcm9maWxlSm9iOiAnLnByb2ZpbGVfX3N1YnRpdGxlJyxcbiAgcHJvZmlsZUF2YXRhcjogJy5wcm9maWxlX19hdmF0YXInLFxuICBwcm9maWxlQXZhdGFyQnRuOiAnLnByb2ZpbGVfX2J0bidcbn1cblxuZXhwb3J0IGNvbnN0IGNhcmRBZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5hZGRDYXJkKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMucHJvZmlsZUF2YXRhckJ0bik7XG5cbmV4cG9ydCBjb25zdCBjb25maWdzID0ge1xuICBmb3JtU2VsZWN0b3I6ICcuZm9ybScsXG4gIGlucHV0U2VsZWN0b3I6ICcuZm9ybV9faW5wdXQnLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5mb3JtX19zYXZlJyxcbiAgaW5wdXRFcnJvckNsYXNzOiAnLmZvcm1fX2l0ZW0taW5wdXRfaW52YWxpZCcsXG4gIGVycm9yQ2xhc3M6ICcuZm9ybV9faXRlbS1lcnJvcl9maWVsZF8nLFxuICBzdWJtaXRGb3JtOiAnLmZvcm1fX3NhdmUnXG59O1xuXG5leHBvcnQgY29uc3QgYnV0dG9uVGV4dFN0YXR1cyA9IHtcbiAgc2F2ZTogJ9Ch0L7RhdGA0LDQvdC40YLRjCcsXG4gIGNyZWF0ZTogJ9Ch0L7Qt9C00LDRgtGMJyxcbiAgcHJvY2VzczogJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJ1xufTtcblxuZXhwb3J0IGNvbnN0IHBvcHVwRGVsZXRlQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzLnBvcHVwRGVsZXRlQ2FyZCk7XG5leHBvcnQgY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fTtcblxuIiwiaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5pbXBvcnQge0NhcmR9IGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCB7Rm9ybVZhbGlkYXRvcn0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IHtTZWN0aW9ufSBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQge1BvcHVwV2l0aEltYWdlfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IHtQb3B1cFdpdGhGb3JtfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQge1BvcHVwV2l0aFN1Ym1pdH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0LmpzXCI7XG5pbXBvcnQge1VzZXJJbmZvfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IHtBcGl9IGZyb20gXCIuLi9jb21wb25lbnRzL0FwaVwiO1xuXG5pbXBvcnQge1xuICBwcm9maWxlT3BlbixcbiAgc2VsZWN0b3JzLFxuICBjb25maWdzLFxuICBjYXJkQWRkLFxuICBwcm9maWxlQXZhdGFyLFxuICBmb3JtVmFsaWRhdG9ycyxcbiAgYnV0dG9uVGV4dFN0YXR1c1xufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5cbi8qLS0tQVBJLS0tKi9cbmNvbnN0IGFwaUNvbmZpZyA9IHtcbiAgdXJsOiAnaHR0cHM6Ly9ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC01NCcsXG4gIGhlYWRlcnM6IHtcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgYXV0aG9yaXphdGlvbjogJzdhZDRiMzY3LTk4NjMtNGEwOS05MTM4LWQ4Njc5NGVmZmI1NCdcbiAgfVxufVxuXG5jb25zdCBhcGkgPSBuZXcgQXBpKGFwaUNvbmZpZyk7XG5sZXQgdXNlcklkID0gbnVsbDtcblxuLyotLS3Ql9Cw0LPRgNGD0LfQutCwINCz0L7RgtC+0LLRi9GFINC60LDRgNGC0L7Rh9C10Log0Lgg0LTQsNC90L3Ri9GFINC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtSDRgSDRgdC10YDQstC10YDQsC0tLSovXG5Qcm9taXNlLmFsbChbYXBpLmdldEFsbENhcmRzKCksIGFwaS5nZXRVc2Vyc0luZm8oKV0pXG4gIC50aGVuKChbYWxsQ2FyZHMsIHVzZXJEYXRhXSkgPT4ge1xuICAgIHVzZXJJZCA9IHVzZXJEYXRhLl9pZDtcbiAgICBwcm9maWxlVXNlckluZm8uc2V0VXNlckluZm8odXNlckRhdGEpO1xuICAgIGFsbENhcmRzLnJldmVyc2UoKS5mb3JFYWNoKChjYXJkKSA9PiB7XG4gICAgLy9hbGxDYXJkcy5zbGljZSgwLDkpLmZvckVhY2goKGNhcmQpID0+IHtcbiAgICAgICAgY2FyZFNlY3Rpb24ucmVuZGVySXRlbShjYXJkKVxuICAgIH0pXG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XG4gIH0pO1xuICBcbi8qLS0t0J/QvtC/0LDQvyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPLS0tKi9cbmNvbnN0IHByb2ZpbGVQb3B1cFdpdGhGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBwb3B1cFNlbGVjdG9yOiBzZWxlY3RvcnMucG9wdXBQcm9maWxlLFxuICBoYW5kbGVGb3JtU3VibWl0OiAoZGF0YUZvcm0pID0+IHtcbiAgICBwcm9maWxlUG9wdXBXaXRoRm9ybS50b2dnbGVTdWJtaXRCdXR0b25UZXh0KGJ1dHRvblRleHRTdGF0dXMucHJvY2Vzcyk7XG4gICAgYXBpLmVkaXRVc2VySW5mbyhkYXRhRm9ybSlcbiAgICAgIC50aGVuKChkYXRhRm9ybSkgPT4ge1xuICAgICAgICBwcm9maWxlVXNlckluZm8uc2V0VXNlckluZm8oZGF0YUZvcm0pO1xuICAgICAgICBwcm9maWxlUG9wdXBXaXRoRm9ybS5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LA6ICR7ZXJyfWApO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgcHJvZmlsZVBvcHVwV2l0aEZvcm0udG9nZ2xlU3VibWl0QnV0dG9uVGV4dChidXR0b25UZXh0U3RhdHVzLnNhdmUpO1xuICAgICAgfSk7XG4gIH1cbn0pO1xuXG5wcm9maWxlUG9wdXBXaXRoRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vKi0tLdCf0L7Qv9Cw0L8g0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQsNCy0LDRgtCw0YDQsC0tLSovXG5jb25zdCBhdmF0YXJQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3Rvcjogc2VsZWN0b3JzLnBvcHVwQXZhdGFyLFxuICBoYW5kbGVGb3JtU3VibWl0OiAoZGF0YSkgPT4ge1xuICAgIGF2YXRhclBvcHVwLnRvZ2dsZVN1Ym1pdEJ1dHRvblRleHQoYnV0dG9uVGV4dFN0YXR1cy5wcm9jZXNzKTtcbiAgICBhcGkuZWRpdFVzZXJBdmF0YXIoZGF0YSlcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIHByb2ZpbGVVc2VySW5mby5zZXRBdmF0YXIoZGF0YSk7XG4gICAgICAgIGF2YXRhclBvcHVwLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBhdmF0YXJQb3B1cC50b2dnbGVTdWJtaXRCdXR0b25UZXh0KGJ1dHRvblRleHRTdGF0dXMuc2F2ZSk7XG4gICAgICB9KTtcbiAgfVxufSk7XG5hdmF0YXJQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vKi0tLdCf0L7Qv9Cw0L8g0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQutCw0YDRgtC+0YfQtdC6LS0tKi9cbmNvbnN0IHBsYWNlUG9wdXBXaXRoRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3Rvcjogc2VsZWN0b3JzLmZvcm1DYXJkLCBcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcbiAgICBwbGFjZVBvcHVwV2l0aEZvcm0udG9nZ2xlU3VibWl0QnV0dG9uVGV4dChidXR0b25UZXh0U3RhdHVzLnByb2Nlc3MpO1xuICAgIGFwaS5hZGRDYXJkKGRhdGEpXG4gICAgLnRoZW4oKGRhdGEpID0+e1xuICAgICAgcGxhY2VQb3B1cFdpdGhGb3JtLmNsb3NlKCk7XG4gICAgICBjYXJkU2VjdGlvbi5yZW5kZXJJdGVtKGRhdGEpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LA6ICR7ZXJyfWApO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgcGxhY2VQb3B1cFdpdGhGb3JtLnRvZ2dsZVN1Ym1pdEJ1dHRvblRleHQoYnV0dG9uVGV4dFN0YXR1cy5jcmVhdGUpO1xuICAgIH0pO1xuICB9XG59KTtcblxucGxhY2VQb3B1cFdpdGhGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2Uoc2VsZWN0b3JzLnBvcHVwSW1hZ2UpO1xuaW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKHNlbGVjdG9ycy5saXN0LCAoY2FyZEl0ZW0pID0+IHtcbiAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKHJlbmRlck5ld0NhcmQoY2FyZEl0ZW0pKVxufSk7XG5cbmNvbnN0IHByb2ZpbGVVc2VySW5mbyA9IG5ldyBVc2VySW5mbyhzZWxlY3RvcnMucHJvZmlsZU5hbWUsIHNlbGVjdG9ycy5wcm9maWxlSm9iLCBzZWxlY3RvcnMucHJvZmlsZUF2YXRhcik7XG5cbmNvbnN0IGNhcmREZWxldGVDb25maXJtUG9wdXAgPSBuZXcgUG9wdXBXaXRoU3VibWl0KHNlbGVjdG9ycy5wb3B1cERlbGV0ZUNhcmQpO1xuY2FyZERlbGV0ZUNvbmZpcm1Qb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vL9Ck0YPQvdC60YbQuNC+0L3QsNC7INGB0L7Qt9C00LDQvdC40Y8g0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4XG5mdW5jdGlvbiByZW5kZXJOZXdDYXJkKGRhdGEpIHtcbiAgICBjb25zdCBjYXJkID0gbmV3IENhcmQgKHtcbiAgICAgIGRhdGEsIFxuICAgICAgdGVtcGxhdGU6IHNlbGVjdG9ycy50ZW1wbGF0ZSxcbiAgICAgIHVzZXJJZDogdXNlcklkLFxuXG4gICAgICBoYW5kbGVDYXJkQ2xpY2s6KCkgPT57XG4gICAgICAgIGltYWdlUG9wdXAub3BlbihkYXRhLm5hbWUsIGRhdGEubGluayk7XG4gICAgICB9LFxuXG4gICAgICBoYW5kbGVDYXJkRGVsZXRlOiAoY2FyZElkKSA9PiB7XG4gICAgICAgIGNhcmREZWxldGVDb25maXJtUG9wdXAub3BlbigpO1xuICAgICAgICBjYXJkRGVsZXRlQ29uZmlybVBvcHVwLnNldFN1Ym1pdENhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgICBhcGkucmVtb3ZlQ2FyZChjYXJkSWQpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGNhcmREZWxldGVDb25maXJtUG9wdXAuY2xvc2UoKTtcbiAgICAgICAgICAgICAgY2FyZC5kZWxldGVDYXJkKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICBoYW5kbGVTZXRMaWtlOiAoY2FyZElkKSA9PntcbiAgICAgICAgYXBpLnNldExpa2UoY2FyZElkKVxuICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICBjYXJkLmhhbmRsZUxpa2VDYXJkKGRhdGEpXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XG4gICAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICBoYW5kbGVSZW1vdmVMaWtlOiAoY2FyZElkKSA9PiB7XG4gICAgICAgIGFwaS5yZW1vdmVMaWtlKGNhcmRJZClcbiAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgY2FyZC5oYW5kbGVMaWtlQ2FyZChkYXRhKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LA6ICR7ZXJyfWApO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIHJldHVybiBjYXJkLmNyZWF0ZU5ld0NhcmQoKTtcbn1cblxuZnVuY3Rpb24gb3BlblBvcHVwUHJvZmlsZSgpe1xuICBjb25zdCBpbmZvRnJvbVBhZ2UgPSBwcm9maWxlVXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgcHJvZmlsZVBvcHVwV2l0aEZvcm0uc2V0SW5wdXRWYWx1ZXMoaW5mb0Zyb21QYWdlKTtcbiAgcHJvZmlsZVBvcHVwV2l0aEZvcm0ub3BlbigpO1xuICBmb3JtVmFsaWRhdG9yc1sncHJvZmlsZSddLnJlc2V0VmFsaWRhdGlvbigpO1xufVxuXG5wcm9maWxlT3Blbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Qb3B1cFByb2ZpbGUpO1xuXG5jYXJkQWRkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBmb3JtVmFsaWRhdG9yc1sncGxhY2UnXS5yZXNldFZhbGlkYXRpb24oKTtcbiAgcGxhY2VQb3B1cFdpdGhGb3JtLm9wZW4oKTtcbn0pO1xuXG5wcm9maWxlQXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAvL2Zvcm1WYWxpZGF0b3JzWydwbGFjZSddLnJlc2V0VmFsaWRhdGlvbigpO1xuICBhdmF0YXJQb3B1cC5vcGVuKCk7XG59KTtcblxuZnVuY3Rpb24gZW5hYmxlVmFsaWRhdGlvbihmb3Jtc0NvbmZpZykge1xuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChmb3Jtc0NvbmZpZy5mb3JtU2VsZWN0b3IpKTtcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtRWxlbWVudCwgZm9ybXNDb25maWcpO1xuICAgIGNvbnN0IGZvcm1OYW1lID0gZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJylcbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSB2YWxpZGF0b3I7XG4gICAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbiAgfSk7XG59XG5cbmVuYWJsZVZhbGlkYXRpb24oY29uZmlncyk7Il0sIm5hbWVzIjpbIkNhcmQiLCJkYXRhIiwidGVtcGxhdGUiLCJ1c2VySWQiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVDYXJkRGVsZXRlIiwiaGFuZGxlU2V0TGlrZSIsImhhbmRsZVJlbW92ZUxpa2UiLCJ0aGlzIiwiX2RhdGEiLCJfY2FyZElkIiwiX2lkIiwiX3VzZXJJZCIsIl9jYXJkT3duZXJJZCIsIm93bmVyIiwiX3RlbXBsYXRlIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVDYXJkRGVsZXRlIiwiX2hhbmRsZVNldExpa2UiLCJfaGFuZGxlUmVtb3ZlTGlrZSIsIl9saWtlcyIsImxpa2VzIiwiX2NhcmRFbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX2NhcmRUaXRsZSIsInF1ZXJ5U2VsZWN0b3IiLCJ0ZXh0Q29udGVudCIsIl9jYXJkSW1hZ2UiLCJfYnV0dG9uTGlrZSIsIl9saWtlc051bWJlciIsInNyYyIsImFsdCIsIl9idXR0b25EZWxldGUiLCJfaXNMaWtlZEJ5VXNlciIsIl9oYXNVc2VyTGlrZSIsIl9pc0NhcmRMaWtlZCIsIl9zZXREZWxldGVCdG4iLCJsZW5ndGgiLCJfc2V0c0V2ZW50TGlzdGVuZXJzIiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwicmVtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwidG9nZ2xlIiwiYWRkIiwic29tZSIsImVsZW1lbnQiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUVsZW1lbnQiLCJmb3Jtc0NvbmZpZyIsIl9mb3JtRmllbGRzIiwiZm9yRWFjaCIsImVsZW1lbnRGaWVsZCIsImZpZWxkIiwiX2NoZWNrRm9ybVZhbGlkaXR5IiwiX2NoZWNrRmllbGRWYWxpZGl0eSIsIl9maW5kRmllbGRFcnJvciIsIl9mb3Jtc0NvbmZpZyIsImlucHV0RXJyb3JDbGFzcyIsImZvcm1Jc1ZhbGlkIiwiZXZlcnkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX3RvZ2dsZVN1Ym1pdEJ1dHRvbiIsImRpc2FibGUiLCJlbGVtZW50RXJyb3IiLCJpbnZhbGlkRmllbGRDbGFzcyIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2J1dHRvblN1Ym1pdEZvcm0iLCJkaXNhYmxlZCIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dExpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiQXJyYXkiLCJmcm9tIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiaW5wdXRFbGVtZW50IiwiX2hpZGVFcnJvciIsImVycm9yQ2xhc3MiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9jb250YWluZXIiLCJfcmVuZGVyZXIiLCJwcmVwZW5kIiwiY2FyZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsImV2dCIsImtleSIsImNsb3NlIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInRhcmdldCIsIlBvcHVwV2l0aEltYWdlIiwiX3BpY3R1cmVJbWFnZSIsIl9waWN0dXJlTmFtZSIsInRpdGxlIiwicGljdHVyZSIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfZm9ybSIsIl9idG5TdWJtaXQiLCJfYnRuU3VibWl0VGV4dCIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiYnV0dG9uVGV4dCIsIlBvcHVwV2l0aFN1Ym1pdCIsImRlbCIsIl9oYW5kbGVTdWJtaXQiLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImpvYlNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfbmFtZUZpZWxkIiwiX2pvYkZpZWxkIiwiX2F2YXRhckZpZWxkIiwiYXZhdGFyIiwiYWJvdXQiLCJBcGkiLCJjb25maWciLCJfdXJsIiwidXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiZmV0Y2giLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInRoZW4iLCJjYXJkSWQiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0IiwibWVzc2FnZSIsInByb2ZpbGVPcGVuIiwic2VsZWN0b3JzIiwiY2FyZEFkZCIsInByb2ZpbGVBdmF0YXIiLCJidXR0b25UZXh0U3RhdHVzIiwiZm9ybVZhbGlkYXRvcnMiLCJhcGkiLCJhdXRob3JpemF0aW9uIiwiYWxsIiwiZ2V0QWxsQ2FyZHMiLCJnZXRVc2Vyc0luZm8iLCJhbGxDYXJkcyIsInVzZXJEYXRhIiwicHJvZmlsZVVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJyZXZlcnNlIiwiY2FyZFNlY3Rpb24iLCJyZW5kZXJJdGVtIiwiZXJyIiwiY29uc29sZSIsImxvZyIsInByb2ZpbGVQb3B1cFdpdGhGb3JtIiwiZGF0YUZvcm0iLCJ0b2dnbGVTdWJtaXRCdXR0b25UZXh0IiwiZWRpdFVzZXJJbmZvIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJhdmF0YXJQb3B1cCIsImVkaXRVc2VyQXZhdGFyIiwic2V0QXZhdGFyIiwicGxhY2VQb3B1cFdpdGhGb3JtIiwiYWRkQ2FyZCIsImltYWdlUG9wdXAiLCJjYXJkSXRlbSIsImFkZEl0ZW0iLCJvcGVuIiwiY2FyZERlbGV0ZUNvbmZpcm1Qb3B1cCIsInNldFN1Ym1pdENhbGxiYWNrIiwicmVtb3ZlQ2FyZCIsImRlbGV0ZUNhcmQiLCJzZXRMaWtlIiwiaGFuZGxlTGlrZUNhcmQiLCJyZW1vdmVMaWtlIiwiY3JlYXRlTmV3Q2FyZCIsImluZm9Gcm9tUGFnZSIsImdldFVzZXJJbmZvIiwic2V0SW5wdXRWYWx1ZXMiLCJmb3JtU2VsZWN0b3IiLCJzdWJtaXRGb3JtIiwidmFsaWRhdG9yIiwiZm9ybU5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJlbmFibGVWYWxpZGF0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==