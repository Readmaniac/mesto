(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n);if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key,"string"),"symbol"===t(i)?i:String(i)),o)}var i}var n=function(){function t(e){var n=e.data,r=e.template,o=e.userId,i=e.handleCardClick,u=e.handleCardDelete,a=e.handleSetLike,c=e.handleRemoveLike;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._data=n,this._cardId=n._id,this._userId=o,this._cardOwnerId=n.owner._id,this._template=r,this._name=n.name,this._link=n.link,this._handleCardClick=i,this._handleCardDelete=u,this._handleSetLike=a,this._handleRemoveLike=c,this._likes=n.likes}var n,r;return n=t,(r=[{key:"createNewCard",value:function(){return this._cardElement=this._getTemplate(),this._cardTitle=this._cardElement.querySelector(".elements__name"),this._cardTitle.textContent=this._name,this._cardImage=this._cardElement.querySelector(".elements__image"),this._buttonLike=this._cardElement.querySelector(".elements__likes-btn"),this._likesNumber=this._cardElement.querySelector(".elements__likes-number"),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._buttonDelete=this._cardElement.querySelector(".elements__delete"),this._isLikedByUser=this._hasUserLike(),this._isCardLiked(),this._setDeleteBtn(),this._likesNumber.textContent=this._likes.length,this._setsEventListeners(),this._cardElement}},{key:"_getTemplate",value:function(){return document.querySelector(this._template).content.querySelector(".elements__container").cloneNode(!0)}},{key:"deleteCard",value:function(){this._cardElement.remove(),this._cardElement=null}},{key:"_setsEventListeners",value:function(){var t=this;this._buttonDelete.addEventListener("click",(function(){t._handleCardDelete(t._cardId)})),this._cardImage.addEventListener("click",(function(){t._handleCardClick()})),this._buttonLike.addEventListener("click",(function(){t._buttonLike.classList.contains("elements__likes_active")?t._handleRemoveLike(t._cardId):t._handleSetLike(t._cardId)}))}},{key:"handleLikeCard",value:function(t){this._buttonLike.classList.toggle("elements__likes_active"),this._likes=t.likes,this._likesNumber.textContent=this._likes.length}},{key:"_isCardLiked",value:function(){this._isLikedByUser&&this._buttonLike.classList.add("elements__likes_active")}},{key:"_hasUserLike",value:function(){var t=this;return this._likes.some((function(e){return e._id===t._userId}))}},{key:"_setDeleteBtn",value:function(){this._userId!==this._cardOwnerId&&this._buttonDelete.remove()}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function i(t,e,n){return(e=u(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e);if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===r(e)?e:String(e)}var a=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,"_setEventListeners",(function(){r._formFields.forEach((function(t){t.addEventListener("input",(function(){var e=t;r._checkFormValidity(),r._checkFieldValidity(e,r._findFieldError(t),r._formsConfig.inputErrorClass)}))}))})),i(this,"_checkFormValidity",(function(){var t=r._formFields.every((function(t){return t.validity.valid}));return r._toggleSubmitButton({disable:t}),t})),i(this,"_checkFieldValidity",(function(t,e,n){e.textContent=t.validationMessage,t.valid?t.classList.remove(n):t.classList.add(n)})),i(this,"_toggleSubmitButton",(function(t){var e=t.disable;r._buttonSubmitForm.disabled=!e})),this._formsConfig=n,this._formElement=e,this._inputList=this._formElement.querySelectorAll(this._formsConfig.inputSelector),this._buttonSubmitForm=this._formElement.querySelector(this._formsConfig.submitButtonSelector),this._formFields=Array.from(this._formElement.querySelectorAll(this._formsConfig.inputSelector))}var e,n;return e=t,(n=[{key:"enableValidation",value:function(){this._toggleSubmitButton({disable:!1}),this._setEventListeners()}},{key:"resetValidation",value:function(){var t=this;this._toggleSubmitButton({disable:!1}),this._inputList.forEach((function(e){t._hideError(e)}))}},{key:"_findFieldError",value:function(t){return this._formElement.querySelector("".concat(this._formsConfig.errorClass).concat(t.name))}},{key:"_hideError",value:function(t){this._findFieldError(t).textContent=""}}])&&o(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key,"string"),"symbol"===c(o)?o:String(o)),r)}var o}var s=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._container=document.querySelector(e),this._renderer=n}var e,n;return e=t,(n=[{key:"addItem",value:function(t){this._container.prepend(t)}},{key:"renderItem",value:function(t){this._renderer(t)}}])&&l(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y(r.key),r)}}function y(t){var e=function(t,e){if("object"!==f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===f(e)?e:String(e)}var h=function(){function t(e){var n,r,o,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,o=function(t){"Escape"===t.key&&i.close()},(r=y(r="_handleEscClose"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this._popup=document.querySelector(e)}var e,n;return e=t,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keyup",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keyup",this._handleEscClose)}},{key:"setEventListeners",value:function(){var t=this;this._popup.addEventListener("mousedown",(function(e){(e.target.classList.contains("overlay")||e.target.classList.contains("popup__close-icon"))&&t.close()}))}}])&&p(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==m(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key,"string"),"symbol"===m(o)?o:String(o)),r)}var o}function b(){return b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=v(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},b.apply(this,arguments)}function v(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}function _(t,e){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_(t,e)}function S(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}var k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=g(r);if(o){var n=g(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return S(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._pictureImage=e._popup.querySelector(".picture__image"),e._pictureName=e._popup.querySelector(".picture__name"),e}return e=u,(n=[{key:"open",value:function(t,e){this._pictureImage.src=e,this._pictureName.textContent=t,this._pictureImage.alt=t,b(g(u.prototype),"open",this).call(this)}}])&&d(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(h);function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==w(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!==w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key,"string"),"symbol"===w(o)?o:String(o)),r)}var o}function j(){return j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=O(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},j.apply(this,arguments)}function O(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=L(t)););return t}function P(t,e){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},P(t,e)}function C(t,e){if(e&&("object"===w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function L(t){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},L(t)}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=L(r);if(o){var n=L(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return C(this,t)});function u(t){var e,n=t.popupSelector,r=t.handleFormSubmit;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,n))._handleFormSubmit=r,e._form=e._popup.querySelector(".form"),e._inputList=e._form.querySelectorAll(".form__input"),e._btnSubmit=e._form.querySelector(".form__save"),e._btnSubmitText=e._btnSubmit.textContent,e}return e=u,(n=[{key:"_getInputValues",value:function(){var t=this;return this._formValues={},this._inputList.forEach((function(e){t._formValues[e.name]=e.value})),this._formValues}},{key:"setEventListeners",value:function(){var t=this;j(L(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit(t._getInputValues())}))}},{key:"close",value:function(){this._form.reset(),j(L(u.prototype),"close",this).call(this)}},{key:"setInputValues",value:function(t){this._inputList.forEach((function(e){e.value=t[e.name]}))}},{key:"toggleSubmitButtonText",value:function(t){this._btnSubmit.textContent=t}}])&&E(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(h);function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==I(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!==I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key,"string"),"symbol"===I(o)?o:String(o)),r)}var o}function F(){return F="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=q(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},F.apply(this,arguments)}function q(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=A(t)););return t}function x(t,e){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},x(t,e)}function B(t,e){if(e&&("object"===I(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function A(t){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},A(t)}var D=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=A(r);if(o){var n=A(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return B(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._form=e._popup.querySelector(".popup__form"),e}return e=u,(n=[{key:"setSubmitCallback",value:function(t){this._handleSubmit=t}},{key:"setEventListeners",value:function(){var t=this;F(A(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("click",(function(e){e.preventDefault(),t._handleSubmit()}))}}])&&R(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(h);function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function V(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==U(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!==U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key,"string"),"symbol"===U(o)?o:String(o)),r)}var o}var N=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nameField=document.querySelector(e),this._jobField=document.querySelector(n),this._avatarField=document.querySelector(r)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._nameField.textContent,link:this._jobField.textContent,avatar:this._avatarField.src}}},{key:"setUserInfo",value:function(t){this._nameField.textContent=t.name,this._jobField.textContent=t.about,this._avatarField.src=t.avatar}},{key:"setAvatar",value:function(t){this._avatarField.src=t.avatar}}])&&V(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==J(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!==J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key,"string"),"symbol"===J(o)?o:String(o)),r)}var o}function G(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}var H=new WeakSet,M=function(){function t(e){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(n=this,r=H),r.add(n),this._url=e.url,this._headers=e.headers}var e,n;return e=t,(n=[{key:"addCard",value:function(t){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(t)}).then(G(this,H,W))}},{key:"getAllCards",value:function(){return fetch("".concat(this._url,"/cards"),{method:"GET",headers:this._headers}).then(G(this,H,W))}},{key:"removeCard",value:function(t){return fetch("".concat(this._url,"/cards/").concat(t),{method:"DELETE",headers:this._headers}).then(G(this,H,W))}},{key:"getUsersInfo",value:function(){var t=this;return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:this._headers}).then((function(e){return G(t,H,W).call(t,e)}))}},{key:"editUserInfo",value:function(t){var e=this;return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t.name,about:t.link})}).then((function(t){return G(e,H,W).call(e,t)}))}},{key:"editUserAvatar",value:function(t){var e=this;return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t.link})}).then((function(t){return G(e,H,W).call(e,t)}))}},{key:"setLike",value:function(t){var e=this;return fetch("".concat(this._url,"/cards/").concat(t,"/likes"),{method:"PUT",headers:this._headers}).then((function(t){return G(e,H,W).call(e,t)}))}},{key:"removeLike",value:function(t){var e=this;return fetch("".concat(this._url,"/cards/").concat(t,"/likes"),{method:"DELETE",headers:this._headers}).then((function(t){return G(e,H,W).call(e,t)}))}}])&&z(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function W(t){return t.ok?t.json():Promise.reject({message:"Ошибка на стороне сервера",res:t})}var $=document.querySelector(".profile__edit-button"),K=".delete-card",Q=document.querySelector(".profile__add-elements"),X=document.querySelector(".profile__btn"),Y="Сохранить",Z="Сохранение...",tt=(document.querySelector(K),{});function et(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var nt=new M({url:"https://nomoreparties.co/v1/cohort-54",headers:{"Content-Type":"application/json",authorization:"7ad4b367-9863-4a09-9138-d86794effb54"}}),rt=null;Promise.all([nt.getAllCards(),nt.getUsersInfo()]).then((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,u,a=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(e,n)||function(t,e){if(t){if("string"==typeof t)return et(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];rt=i._id,st.setUserInfo(i),o.reverse().forEach((function(t){lt.renderItem(t)}))})).catch((function(t){console.log("Ошибка: ".concat(t))}));var ot=new T({popupSelector:".popup-profile",handleFormSubmit:function(t){ot.toggleSubmitButtonText(Z),nt.editUserInfo(t).then((function(t){st.setUserInfo(t),ot.close()})).catch((function(t){console.log("Ошибка: ".concat(t))})).finally((function(){ot.toggleSubmitButtonText(Y)}))}});ot.setEventListeners();var it=new T({popupSelector:".popup-avatar",handleFormSubmit:function(t){it.toggleSubmitButtonText(Z),nt.editUserAvatar(t).then((function(t){st.setAvatar(t),it.close()})).catch((function(t){console.log("Ошибка: ".concat(t))})).finally((function(){it.toggleSubmitButtonText(Y)}))}});it.setEventListeners();var ut=new T({popupSelector:".popup-card",handleFormSubmit:function(t){ut.toggleSubmitButtonText(Z),nt.addCard(t).then((function(t){ut.close(),lt.renderItem(t)})).catch((function(t){console.log("Ошибка: ".concat(t))})).finally((function(){ut.toggleSubmitButtonText("Создать")}))}});ut.setEventListeners();var at=new k(".picture");at.setEventListeners();var ct,lt=new s(".elements",(function(t){var e,r;lt.addItem((r=new n({data:e=t,template:"#element-template",userId:rt,handleCardClick:function(){at.open(e.name,e.link)},handleCardDelete:function(t){ft.open(),ft.setSubmitCallback((function(){nt.removeCard(t).then((function(){ft.close(),r.deleteCard()})).catch((function(t){console.log("Ошибка: ".concat(t))}))}))},handleSetLike:function(t){nt.setLike(t).then((function(t){r.handleLikeCard(t)})).catch((function(t){console.log("Ошибка: ".concat(t))}))},handleRemoveLike:function(t){nt.removeLike(t).then((function(t){r.handleLikeCard(t)})).catch((function(t){console.log("Ошибка: ".concat(t))}))}})).createNewCard())})),st=new N(".profile__title",".profile__subtitle",".profile__avatar"),ft=new D(K);ft.setEventListeners(),$.addEventListener("click",(function(){var t=st.getUserInfo();ot.setInputValues(t),ot.open(),tt.profile.resetValidation()})),Q.addEventListener("click",(function(){tt.place.resetValidation(),ut.open()})),X.addEventListener("click",(function(){it.open()})),ct={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__save",inputErrorClass:".form__item-input_invalid",errorClass:".form__item-error_field_",submitForm:".form__save"},Array.from(document.querySelectorAll(ct.formSelector)).forEach((function(t){var e=new a(t,ct),n=t.getAttribute("name");tt[n]=e,e.enableValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoid3JCQUFPLElBQU1BLEVBQUksV0FDZixjQUF5RyxJQUE1RkMsRUFBSSxFQUFKQSxLQUFNQyxFQUFRLEVBQVJBLFNBQVVDLEVBQU0sRUFBTkEsT0FBUUMsRUFBZSxFQUFmQSxnQkFBaUJDLEVBQWdCLEVBQWhCQSxpQkFBa0JDLEVBQWEsRUFBYkEsY0FBZUMsRUFBZ0IsRUFBaEJBLGtCLDRGQUFnQixTQUNyR0MsS0FBS0MsTUFBUVIsRUFDYk8sS0FBS0UsUUFBVVQsRUFBS1UsSUFDcEJILEtBQUtJLFFBQVVULEVBQ2ZLLEtBQUtLLGFBQWVaLEVBQUthLE1BQU1ILElBQy9CSCxLQUFLTyxVQUFZYixFQUNqQk0sS0FBS1EsTUFBUWYsRUFBS2dCLEtBQ2xCVCxLQUFLVSxNQUFRakIsRUFBS2tCLEtBQ2xCWCxLQUFLWSxpQkFBbUJoQixFQUN4QkksS0FBS2Esa0JBQW9CaEIsRUFDekJHLEtBQUtjLGVBQWlCaEIsRUFDdEJFLEtBQUtlLGtCQUFvQmhCLEVBQ3pCQyxLQUFLZ0IsT0FBU3ZCLEVBQUt3QixLQUNyQixDLFFBMEVDLE8sRUExRUEsRyxFQUFBLDRCQUVELFdBZ0JFLE9BZkFqQixLQUFLa0IsYUFBZWxCLEtBQUttQixlQUN6Qm5CLEtBQUtvQixXQUFhcEIsS0FBS2tCLGFBQWFHLGNBQWMsbUJBQ2xEckIsS0FBS29CLFdBQVdFLFlBQWN0QixLQUFLUSxNQUNuQ1IsS0FBS3VCLFdBQWF2QixLQUFLa0IsYUFBYUcsY0FBYyxvQkFDbERyQixLQUFLd0IsWUFBY3hCLEtBQUtrQixhQUFhRyxjQUFjLHdCQUNuRHJCLEtBQUt5QixhQUFlekIsS0FBS2tCLGFBQWFHLGNBQWMsMkJBQ3BEckIsS0FBS3VCLFdBQVdHLElBQU0xQixLQUFLVSxNQUMzQlYsS0FBS3VCLFdBQVdJLElBQU0zQixLQUFLUSxNQUMzQlIsS0FBSzRCLGNBQWdCNUIsS0FBS2tCLGFBQWFHLGNBQWMscUJBQ3JEckIsS0FBSzZCLGVBQWlCN0IsS0FBSzhCLGVBQzNCOUIsS0FBSytCLGVBQ0wvQixLQUFLZ0MsZ0JBQ0xoQyxLQUFLeUIsYUFBYUgsWUFBY3RCLEtBQUtnQixPQUFPaUIsT0FDNUNqQyxLQUFLa0Msc0JBRUVsQyxLQUFLa0IsWUFDZCxHQUFDLDBCQUVELFdBT0UsT0FOb0JpQixTQUNqQmQsY0FBY3JCLEtBQUtPLFdBQ25CNkIsUUFDQWYsY0FBYyx3QkFDZGdCLFdBQVUsRUFHZixHQUFDLHdCQUVELFdBQ0VyQyxLQUFLa0IsYUFBYW9CLFNBQ2xCdEMsS0FBS2tCLGFBQWUsSUFDdEIsR0FBQyxpQ0FFRCxXQUFxQixXQUNuQmxCLEtBQUs0QixjQUFjVyxpQkFBaUIsU0FBUyxXQUMzQyxFQUFLMUIsa0JBQWtCLEVBQUtYLFFBQzlCLElBRUFGLEtBQUt1QixXQUFXZ0IsaUJBQWlCLFNBQVMsV0FDeEMsRUFBSzNCLGtCQUNQLElBRUFaLEtBQUt3QixZQUFZZSxpQkFBaUIsU0FBUyxXQUNyQyxFQUFLZixZQUFZZ0IsVUFBVUMsU0FBUywwQkFDdEMsRUFBSzFCLGtCQUFrQixFQUFLYixTQUU1QixFQUFLWSxlQUFlLEVBQUtaLFFBRTdCLEdBQ0YsR0FBQyw0QkFFRCxTQUFlVCxHQUNiTyxLQUFLd0IsWUFBWWdCLFVBQVVFLE9BQU8sMEJBQ2xDMUMsS0FBS2dCLE9BQVN2QixFQUFLd0IsTUFDbkJqQixLQUFLeUIsYUFBYUgsWUFBY3RCLEtBQUtnQixPQUFPaUIsTUFDOUMsR0FBQywwQkFFRCxXQUNNakMsS0FBSzZCLGdCQUNQN0IsS0FBS3dCLFlBQVlnQixVQUFVRyxJQUFJLHlCQUVuQyxHQUFDLDBCQUVELFdBQWMsV0FDWixPQUFPM0MsS0FBS2dCLE9BQU80QixNQUFLLFNBQUFDLEdBQU8sT0FBSUEsRUFBUTFDLE1BQVEsRUFBS0MsT0FBTyxHQUNqRSxHQUFDLDJCQUVELFdBQ01KLEtBQUtJLFVBQVlKLEtBQUtLLGNBQ3hCTCxLQUFLNEIsY0FBY1UsUUFFdkIsTSxvRUFBQyxFQXhGYyxHLGl6QkNBVixJQUFNUSxFQUFhLFdBQ3hCLFdBQVlDLEVBQWFDLEdBQVksWSw0RkFBQSxzQ0FvQmhCLFdBQ25CLEVBQUtDLFlBQVlDLFNBQVEsU0FBQ0MsR0FDeEJBLEVBQWFaLGlCQUFpQixTQUFTLFdBQ3JDLElBQU1hLEVBQVFELEVBQ2QsRUFBS0UscUJBQ0wsRUFBS0Msb0JBQW9CRixFQUFPLEVBQUtHLGdCQUFnQkosR0FBYyxFQUFLSyxhQUFhQyxnQkFDdkYsR0FDRixHQUNGLElBQUMsNkJBT29CLFdBQ25CLElBQU1DLEVBQWMsRUFBS1QsWUFBWVUsT0FBTSxZQUFXLFNBQVJDLFNBQXdCQyxLQUFLLElBRTNFLE9BREEsRUFBS0Msb0JBQW9CLENBQUVDLFFBQVNMLElBQzdCQSxDQUNULElBQUMsOEJBRXFCLFNBQUNQLEVBQWNhLEVBQWNDLEdBQ2pERCxFQUFhMUMsWUFBYzZCLEVBQWFlLGtCQUNuQ2YsRUFBYVUsTUFHaEJWLEVBQWFYLFVBQVVGLE9BQU8yQixHQUY5QmQsRUFBYVgsVUFBVUcsSUFBSXNCLEVBSS9CLElBQUMsOEJBRXFCLFlBQWlCLElBQWRGLEVBQU8sRUFBUEEsUUFDckIsRUFBS0ksa0JBQWtCQyxVQUFZTCxDQUN2QyxJQW5ERS9ELEtBQUt3RCxhQUFlUixFQUNwQmhELEtBQUtxRSxhQUFldEIsRUFDcEIvQyxLQUFLc0UsV0FBYXRFLEtBQUtxRSxhQUFhRSxpQkFBaUJ2RSxLQUFLd0QsYUFBYWdCLGVBQ3ZFeEUsS0FBS21FLGtCQUFvQm5FLEtBQUtxRSxhQUFhaEQsY0FBY3JCLEtBQUt3RCxhQUFhaUIsc0JBQzNFekUsS0FBS2lELFlBQWN5QixNQUFNQyxLQUFLM0UsS0FBS3FFLGFBQWFFLGlCQUFpQnZFLEtBQUt3RCxhQUFhZ0IsZUFDckYsQyxRQWtEQyxPLEVBbERBLEcsRUFBQSwrQkFFRCxXQUNFeEUsS0FBSzhELG9CQUFvQixDQUFFQyxTQUFTLElBQ3BDL0QsS0FBSzRFLG9CQUNQLEdBQUMsNkJBRUQsV0FBaUIsV0FDZjVFLEtBQUs4RCxvQkFBb0IsQ0FBRUMsU0FBUyxJQUNwQy9ELEtBQUtzRSxXQUFXcEIsU0FBUSxTQUFDMkIsR0FDdkIsRUFBS0MsV0FBV0QsRUFDbEIsR0FDRixHQUFDLDZCQVlELFNBQWdCMUIsR0FFZCxPQURtQm5ELEtBQUtxRSxhQUFhaEQsY0FBYyxHQUFELE9BQUlyQixLQUFLd0QsYUFBYXVCLFlBQVUsT0FBRzVCLEVBQWExQyxNQUVwRyxHQUFDLHdCQXFCRCxTQUFXb0UsR0FDVDdFLEtBQUt1RCxnQkFBZ0JzQixHQUFjdkQsWUFBYyxFQUNuRCxNLG9FQUFDLEVBekR1QixHLHFxQkNBbkIsSUFBTTBELEVBQU8sV0FDbEIsV0FBWUMsRUFBbUJDLEksNEZBQVMsU0FDdENsRixLQUFLbUYsV0FBYWhELFNBQVNkLGNBQWM0RCxHQUN6Q2pGLEtBQUtvRixVQUFZRixDQUNuQixDLFFBUUMsTyxFQVJBLEcsRUFBQSxzQkFFRCxTQUFRckMsR0FDTjdDLEtBQUttRixXQUFXRSxRQUFReEMsRUFDMUIsR0FBQyx3QkFFRCxTQUFXeUMsR0FDVHRGLEtBQUtvRixVQUFVRSxFQUNqQixNLG9FQUFDLEVBWmlCLEcsb3JCQ0FiLElBQU1DLEVBQUssV0FDaEIsV0FBWUMsR0FBYyxJLE1BQUEsUSw0RkFBQSxTLEVBQUEsSyxFQUlSLFNBQUNDLEdBQ0gsV0FBWEEsRUFBSUMsS0FDTCxFQUFLQyxPQUVULEcsTUFSMEIsc0Isd0ZBQ3hCM0YsS0FBSzRGLE9BQVN6RCxTQUFTZCxjQUFjbUUsRUFDdkMsQyxRQTJCQyxPLEVBM0JBLEcsRUFBQSxtQkFRRCxXQUNFeEYsS0FBSzRGLE9BQU9wRCxVQUFVRyxJQUFJLGdCQUN4QlIsU0FBU0ksaUJBQWlCLFFBQVN2QyxLQUFLNkYsZ0JBQzVDLEdBQUMsbUJBRUQsV0FDRTdGLEtBQUs0RixPQUFPcEQsVUFBVUYsT0FBTyxnQkFDN0JILFNBQVMyRCxvQkFBb0IsUUFBUzlGLEtBQUs2RixnQkFDN0MsR0FBQywrQkFFRCxXQUFvQixXQUNsQjdGLEtBQUs0RixPQUFPckQsaUJBQWlCLGFBQWEsU0FBQ2tELElBRXRDQSxFQUFJTSxPQUFPdkQsVUFBVUMsU0FBUyxZQUM5QmdELEVBQUlNLE9BQU92RCxVQUFVQyxTQUFTLHVCQUUvQixFQUFLa0QsT0FFVCxHQUNGLE0sb0VBQUMsRUE5QmUsRyw4aERDRVgsSUFBTUssRUFBYyxhLHFSQUFBLFUsUUFBQSxHLEVBQUEsRSwrWUFDekIsV0FBWVIsR0FBYyxNQUd3QyxPLDRGQUh4QyxVQUN4QixjQUFNQSxJQUNEUyxjQUFnQixFQUFLTCxPQUFPdkUsY0FBYyxtQkFDL0MsRUFBSzZFLGFBQWUsRUFBS04sT0FBT3ZFLGNBQWMsa0JBQWtCLENBQ2xFLENBT0MsTyxFQVBBLEcsRUFBQSxtQkFFRCxTQUFLOEUsRUFBT0MsR0FDVnBHLEtBQUtpRyxjQUFjdkUsSUFBSTBFLEVBQ3ZCcEcsS0FBS2tHLGFBQWE1RSxZQUFZNkUsRUFDOUJuRyxLQUFLaUcsY0FBY3RFLElBQUl3RSxFQUN2Qix3Q0FDRixNLG9FQUFDLEVBWndCLENBQVNaLEcsOGhEQ0E3QixJQUFNYyxFQUFhLGEscVJBQUEsVSxRQUFBLEcsRUFBQSxFLCtZQUN4QixjQUE4QyxNQUFqQ2IsRUFBYSxFQUFiQSxjQUFlYyxFQUFnQixFQUFoQkEsaUJBTXdCLE8sNEZBTlIsVUFDMUMsY0FBTWQsSUFDRGUsa0JBQW9CRCxFQUN6QixFQUFLRSxNQUFRLEVBQUtaLE9BQU92RSxjQUFjLFNBQ3ZDLEVBQUtpRCxXQUFhLEVBQUtrQyxNQUFNakMsaUJBQWlCLGdCQUM5QyxFQUFLa0MsV0FBYSxFQUFLRCxNQUFNbkYsY0FBYyxlQUMzQyxFQUFLcUYsZUFBaUIsRUFBS0QsV0FBV25GLFlBQVksQ0FDcEQsQ0FnQ0MsTyxFQWhDQSxHLEVBQUEsOEJBRUQsV0FBaUIsV0FNZixPQUxBdEIsS0FBSzJHLFlBQWMsQ0FBQyxFQUNwQjNHLEtBQUtzRSxXQUFXcEIsU0FBUSxTQUFBMEQsR0FDdEIsRUFBS0QsWUFBWUMsRUFBTW5HLE1BQVFtRyxFQUFNQyxLQUN2QyxJQUVPN0csS0FBSzJHLFdBQ2QsR0FBQywrQkFFRCxXQUFtQixXQUNqQixzREFDQTNHLEtBQUt3RyxNQUFNakUsaUJBQWlCLFVBQVUsU0FBQ3VFLEdBQ3JDQSxFQUFFQyxpQkFDRixFQUFLUixrQkFBa0IsRUFBS1Msa0JBQzlCLEdBQ0YsR0FBQyxtQkFFRCxXQUNFaEgsS0FBS3dHLE1BQU1TLFFBQ1gseUNBQ0YsR0FBQyw0QkFFRCxTQUFleEgsR0FDYk8sS0FBS3NFLFdBQVdwQixTQUFRLFNBQUMwRCxHQUN2QkEsRUFBTUMsTUFBUXBILEVBQUttSCxFQUFNbkcsS0FDM0IsR0FDRixHQUFDLG9DQUVELFNBQXVCeUcsR0FDckJsSCxLQUFLeUcsV0FBV25GLFlBQWM0RixDQUNoQyxNLG9FQUFDLEVBeEN1QixDQUFTM0IsRyw4aERDQTVCLElBQU00QixFQUFlLGEscVJBQUEsVSxRQUFBLEcsRUFBQSxFLCtZQUMxQixXQUFZM0IsR0FBYyxNQUUrQixPLDRGQUYvQixVQUN4QixjQUFNQSxJQUNEZ0IsTUFBUSxFQUFLWixPQUFPdkUsY0FBYyxnQkFBZ0IsQ0FDekQsQ0FZQyxPLEVBWkEsRyxFQUFBLGdDQUVELFNBQWtCK0YsR0FDaEJwSCxLQUFLcUgsY0FBZ0JELENBQ3ZCLEdBQUMsK0JBRUQsV0FBb0IsV0FDbEIsc0RBQ0FwSCxLQUFLd0csTUFBTWpFLGlCQUFpQixTQUFTLFNBQUN1RSxHQUNwQ0EsRUFBRUMsaUJBQ0YsRUFBS00sZUFDUCxHQUNGLE0sb0VBQUMsRUFoQnlCLENBQVM5QixHLHFxQkNGOUIsSUFBTStCLEVBQVEsV0FDbkIsV0FBWUMsRUFBY0MsRUFBYUMsSSw0RkFBZSxTQUNwRHpILEtBQUswSCxXQUFhdkYsU0FBU2QsY0FBY2tHLEdBQ3pDdkgsS0FBSzJILFVBQVl4RixTQUFTZCxjQUFjbUcsR0FDeEN4SCxLQUFLNEgsYUFBZXpGLFNBQVNkLGNBQWNvRyxFQUM3QyxDLFFBa0JDLE8sRUFsQkEsRyxFQUFBLDBCQUVELFdBQ0UsTUFBTyxDQUNMaEgsS0FBTVQsS0FBSzBILFdBQVdwRyxZQUN0QlgsS0FBTVgsS0FBSzJILFVBQVVyRyxZQUNyQnVHLE9BQVE3SCxLQUFLNEgsYUFBYWxHLElBRTlCLEdBQUMseUJBRUQsU0FBWWpDLEdBQ1ZPLEtBQUswSCxXQUFXcEcsWUFBYzdCLEVBQUtnQixLQUNuQ1QsS0FBSzJILFVBQVVyRyxZQUFjN0IsRUFBS3FJLE1BQ2xDOUgsS0FBSzRILGFBQWFsRyxJQUFNakMsRUFBS29JLE1BQy9CLEdBQUMsdUJBRUQsU0FBVXBJLEdBQ1JPLEtBQUs0SCxhQUFhbEcsSUFBTWpDLEVBQUtvSSxNQUMvQixNLG9FQUFDLEVBdkJrQixHLHF5QkNBUkUsRUFBRyxXQVFkLFdBQVlDLEcscUdBQU8sUyxtSEFBQSxLLEVBQUEsRyxTQUNqQmhJLEtBQUtpSSxLQUFPRCxFQUFPRSxJQUNuQmxJLEtBQUttSSxTQUFXSCxFQUFPSSxPQUN6QixDLFFBK0VDLE8sRUE3RUgsRyxFQUFBLHNCQUNFLFNBQVEzSSxHQUNOLE9BQU80SSxNQUFNLEdBQUQsT0FBSXJJLEtBQUtpSSxLQUFJLFVBQVUsQ0FDakNLLE9BQVEsT0FDUkYsUUFBU3BJLEtBQUttSSxTQUNkSSxLQUFNQyxLQUFLQyxVQUFVaEosS0FFdEJpSixLQUFLLEVBQUExSSxLQUFJLEtBQ1osR0FFRix5QkFDRSxXQUNFLE9BQU9xSSxNQUFNLEdBQUQsT0FBSXJJLEtBQUtpSSxLQUFJLFVBQVUsQ0FDakNLLE9BQVEsTUFDUkYsUUFBU3BJLEtBQUttSSxXQUVmTyxLQUFLLEVBQUExSSxLQUFJLEtBQ1osR0FFRix3QkFDRSxTQUFXMkksR0FDVCxPQUFPTixNQUFNLEdBQUQsT0FBSXJJLEtBQUtpSSxLQUFJLGtCQUFVVSxHQUFVLENBQzNDTCxPQUFRLFNBQ1JGLFFBQVNwSSxLQUFLbUksV0FFZk8sS0FBSyxFQUFBMUksS0FBSSxLQUNaLEdBRUYsMEJBQ0UsV0FBZSxXQUNiLE9BQU9xSSxNQUFNLEdBQUQsT0FBSXJJLEtBQUtpSSxLQUFJLGFBQWEsQ0FDdENLLE9BQVEsTUFDUkYsUUFBU3BJLEtBQUttSSxXQUViTyxNQUFLLFNBQUFFLEdBQUcsU0FBSSxFQUFJLFVBQUosRUFBaUJBLEVBQUcsR0FDbkMsR0FFRiwwQkFDRSxTQUFhbkosR0FBTSxXQUNqQixPQUFPNEksTUFBTSxHQUFELE9BQUlySSxLQUFLaUksS0FBSSxhQUFhLENBQ3BDSyxPQUFRLFFBQ1JGLFFBQVNwSSxLQUFLbUksU0FDZEksS0FBTUMsS0FBS0MsVUFBVSxDQUNqQmhJLEtBQU1oQixFQUFLZ0IsS0FDWHFILE1BQU9ySSxFQUFLa0IsU0FHakIrSCxNQUFLLFNBQUFFLEdBQUcsU0FBSSxFQUFJLFVBQUosRUFBaUJBLEVBQUcsR0FDbkMsR0FFRiw0QkFDRSxTQUFlbkosR0FBTSxXQUNuQixPQUFPNEksTUFBTSxHQUFELE9BQUlySSxLQUFLaUksS0FBSSxvQkFBb0IsQ0FDM0NLLE9BQVEsUUFDUkYsUUFBU3BJLEtBQUttSSxTQUNkSSxLQUFNQyxLQUFLQyxVQUFVLENBQ2pCWixPQUFRcEksRUFBS2tCLFNBR2xCK0gsTUFBSyxTQUFBRSxHQUFHLFNBQUksRUFBSSxVQUFKLEVBQWlCQSxFQUFHLEdBQ25DLEdBRUYscUJBQ0UsU0FBUUQsR0FBUSxXQUNkLE9BQU9OLE1BQU0sR0FBRCxPQUFJckksS0FBS2lJLEtBQUksa0JBQVVVLEVBQU0sVUFBVSxDQUNqREwsT0FBUSxNQUNSRixRQUFTcEksS0FBS21JLFdBRWZPLE1BQUssU0FBQUUsR0FBRyxTQUFJLEVBQUksVUFBSixFQUFpQkEsRUFBRyxHQUNuQyxHQUFDLHdCQUVELFNBQVdELEdBQVEsV0FDakIsT0FBT04sTUFBTSxHQUFELE9BQUlySSxLQUFLaUksS0FBSSxrQkFBVVUsRUFBTSxVQUFVLENBQ2pETCxPQUFRLFNBQ1JGLFFBQVNwSSxLQUFLbUksV0FFZk8sTUFBSyxTQUFBRSxHQUFHLFNBQUksRUFBSSxVQUFKLEVBQWlCQSxFQUFHLEdBQ25DLE0sb0VBQUMsRUExRmEsR0EyRmYsV0ExRmFBLEdBQ1YsT0FBSUEsRUFBSUMsR0FDQ0QsRUFBSUUsT0FFUkMsUUFBUUMsT0FBTyxDQUFDQyxRQUFTLDRCQUE2QkwsSUFBQUEsR0FDN0QsQ0NOSyxJQUFNTSxFQUFjL0csU0FBU2QsY0FBYyx5QkFFckM4SCxFQUdNLGVBeUJOQyxFQUFVakgsU0FBU2QsY0FyQnJCLDBCQXNCRWdJLEVBQWdCbEgsU0FBU2QsY0FKbEIsaUJBZVBpSSxFQUNMLFlBREtBLEVBR0YsZ0JBSUVDLElBRGtCcEgsU0FBU2QsY0FBYzhILEdBQ3hCLENBQUMsRywyR0M1Qi9CLElBUU1LLEdBQU0sSUFBSXpCLEVBUkUsQ0FDaEJHLElBQUssd0NBQ0xFLFFBQVMsQ0FDUCxlQUFnQixtQkFDZHFCLGNBQWUsMENBS2pCOUosR0FBUyxLQUdib0osUUFBUVcsSUFBSSxDQUFDRixHQUFJRyxjQUFlSCxHQUFJSSxpQkFDakNsQixNQUFLLFlBQTBCLEksSUFBQSxHLEVBQUEsRSw0Q0FBQSxJLHMyQkFBeEJtQixFQUFRLEtBQUVDLEVBQVEsS0FDeEJuSyxHQUFTbUssRUFBUzNKLElBQ2xCNEosR0FBZ0JDLFlBQVlGLEdBQzVCRCxFQUFTSSxVQUFVL0csU0FBUSxTQUFDb0MsR0FFeEI0RSxHQUFZQyxXQUFXN0UsRUFDM0IsR0FDRixJQUNDOEUsT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJLFdBQUQsT0FBWUYsR0FDekIsSUFHRixJQUFNRyxHQUF1QixJQUFJbkUsRUFBYyxDQUM3Q2IsY0Q1Q2MsaUJDNkNkYyxpQkFBa0IsU0FBQ21FLEdBQ2pCRCxHQUFxQkUsdUJBQXVCcEIsR0FDNUNFLEdBQUltQixhQUFhRixHQUNkL0IsTUFBSyxTQUFDK0IsR0FDTFYsR0FBZ0JDLFlBQVlTLEdBQzVCRCxHQUFxQjdFLE9BQ3ZCLElBQ0N5RSxPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUksV0FBRCxPQUFZRixHQUN6QixJQUNDTyxTQUFRLFdBQ1BKLEdBQXFCRSx1QkFBdUJwQixFQUM5QyxHQUNKLElBR0ZrQixHQUFxQkssb0JBR3JCLElBQU1DLEdBQWMsSUFBSXpFLEVBQWMsQ0FDcENiLGNEL0RhLGdCQ2dFYmMsaUJBQWtCLFNBQUM3RyxHQUNqQnFMLEdBQVlKLHVCQUF1QnBCLEdBQ25DRSxHQUFJdUIsZUFBZXRMLEdBQ2hCaUosTUFBSyxTQUFDakosR0FDTHNLLEdBQWdCaUIsVUFBVXZMLEdBQzFCcUwsR0FBWW5GLE9BQ2QsSUFDQ3lFLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSSxXQUFELE9BQVlGLEdBQ3pCLElBQ0NPLFNBQVEsV0FDUEUsR0FBWUosdUJBQXVCcEIsRUFDckMsR0FDSixJQUVGd0IsR0FBWUQsb0JBR1osSUFBTUksR0FBcUIsSUFBSTVFLEVBQWMsQ0FDM0NiLGNEdEZVLGNDdUZWYyxpQkFBa0IsU0FBQzdHLEdBQ2pCd0wsR0FBbUJQLHVCQUF1QnBCLEdBQzFDRSxHQUFJMEIsUUFBUXpMLEdBQ1hpSixNQUFLLFNBQUNqSixHQUNMd0wsR0FBbUJ0RixRQUNuQnVFLEdBQVlDLFdBQVcxSyxFQUN6QixJQUNDMkssT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJLFdBQUQsT0FBWUYsR0FDekIsSUFDQ08sU0FBUSxXQUNQSyxHQUFtQlAsdUJEekRmLFVDMEROLEdBQ0YsSUFHRk8sR0FBbUJKLG9CQUVuQixJQUFNTSxHQUFhLElBQUluRixFRHpGVCxZQzBGZG1GLEdBQVdOLG9CQUVYLElBNkUwQjdILEdBN0VwQmtILEdBQWMsSUFBSWxGLEVEbkdoQixhQ21Hd0MsU0FBQ29HLEdBVWpELElBQXVCM0wsRUFDYjZGLEVBVk40RSxHQUFZbUIsU0FVTi9GLEVBQU8sSUFBSTlGLEVBQU0sQ0FDckJDLEtBRmlCQSxFQVRlMkwsRUFZaEMxTCxTRGxITSxvQkNtSE5DLE9BQVFBLEdBRVJDLGdCQUFnQixXQUNkdUwsR0FBV0csS0FBSzdMLEVBQUtnQixLQUFNaEIsRUFBS2tCLEtBQ2xDLEVBRUFkLGlCQUFrQixTQUFDOEksR0FDakI0QyxHQUF1QkQsT0FDdkJDLEdBQXVCQyxtQkFBa0IsV0FDdkNoQyxHQUFJaUMsV0FBVzlDLEdBQ1pELE1BQUssV0FDSjZDLEdBQXVCNUYsUUFDdkJMLEVBQUtvRyxZQUNQLElBQ0N0QixPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUksV0FBRCxPQUFZRixHQUN6QixHQUNKLEdBQ0YsRUFFQXZLLGNBQWUsU0FBQzZJLEdBQ2RhLEdBQUltQyxRQUFRaEQsR0FDVEQsTUFBSyxTQUFDakosR0FDTDZGLEVBQUtzRyxlQUFlbk0sRUFDdEIsSUFDQzJLLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSSxXQUFELE9BQVlGLEdBQ3pCLEdBQ0osRUFFQXRLLGlCQUFrQixTQUFDNEksR0FDakJhLEdBQUlxQyxXQUFXbEQsR0FDWkQsTUFBSyxTQUFDakosR0FDTDZGLEVBQUtzRyxlQUFlbk0sRUFDdEIsSUFDQzJLLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSSxXQUFELE9BQVlGLEdBQ3pCLEdBQ0osS0FHUXlCLGdCQXJEZCxJQUVNL0IsR0FBa0IsSUFBSXpDLEVEM0ZiLGtCQUNELHFCQUNHLG9CQzJGWGlFLEdBQXlCLElBQUlwRSxFQUFnQmdDLEdBQ25Eb0MsR0FBdUJWLG9CQTBEdkIzQixFQUFZM0csaUJBQWlCLFNBUDdCLFdBQ0UsSUFBTXdKLEVBQWVoQyxHQUFnQmlDLGNBQ3JDeEIsR0FBcUJ5QixlQUFlRixHQUNwQ3ZCLEdBQXFCYyxPQUNyQi9CLEdBQUFBLFFBQUFBLGlCQUNGLElBSUFILEVBQVE3RyxpQkFBaUIsU0FBUyxXQUNoQ2dILEdBQUFBLE1BQUFBLGtCQUNBMEIsR0FBbUJLLE1BQ3JCLElBRUFqQyxFQUFjOUcsaUJBQWlCLFNBQVMsV0FFdEN1SSxHQUFZUSxNQUNkLElBRTBCdEksR0QzSkgsQ0FDckJrSixhQUFjLFFBQ2QxSCxjQUFlLGVBQ2ZDLHFCQUFzQixjQUN0QmhCLGdCQUFpQiw0QkFDakJzQixXQUFZLDJCQUNab0gsV0FBWSxlQ3NKS3pILE1BQU1DLEtBQUt4QyxTQUFTb0MsaUJBQWlCdkIsR0FBWWtKLGVBQ3pEaEosU0FBUSxTQUFDSCxHQUNoQixJQUFNcUosRUFBWSxJQUFJdEosRUFBY0MsRUFBYUMsSUFDM0NxSixFQUFXdEosRUFBWXVKLGFBQWEsUUFDMUMvQyxHQUFlOEMsR0FBWUQsRUFDM0JBLEVBQVVHLGtCQUNaLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0LmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBDYXJke1xuICBjb25zdHJ1Y3Rvcih7ZGF0YSwgdGVtcGxhdGUsIHVzZXJJZCwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVDYXJkRGVsZXRlLCBoYW5kbGVTZXRMaWtlLCBoYW5kbGVSZW1vdmVMaWtlfSl7XG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5fY2FyZElkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xuICAgIHRoaXMuX2NhcmRPd25lcklkID0gZGF0YS5vd25lci5faWQ7XG4gICAgdGhpcy5fdGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX2hhbmRsZUNhcmREZWxldGUgPSBoYW5kbGVDYXJkRGVsZXRlO1xuICAgIHRoaXMuX2hhbmRsZVNldExpa2UgPSBoYW5kbGVTZXRMaWtlO1xuICAgIHRoaXMuX2hhbmRsZVJlbW92ZUxpa2UgPSBoYW5kbGVSZW1vdmVMaWtlO1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgfVxuXG4gIGNyZWF0ZU5ld0NhcmQoKXtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19uYW1lJyk7XG4gICAgdGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2ltYWdlJyk7XG4gICAgdGhpcy5fYnV0dG9uTGlrZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19fbGlrZXMtYnRuJyk7XG4gICAgdGhpcy5fbGlrZXNOdW1iZXIgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2xpa2VzLW51bWJlcicpO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2J1dHRvbkRlbGV0ZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19fZGVsZXRlJyk7XG4gICAgdGhpcy5faXNMaWtlZEJ5VXNlciA9IHRoaXMuX2hhc1VzZXJMaWtlKCk7XG4gICAgdGhpcy5faXNDYXJkTGlrZWQoKTtcbiAgICB0aGlzLl9zZXREZWxldGVCdG4oKVxuICAgIHRoaXMuX2xpa2VzTnVtYmVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuICAgIHRoaXMuX3NldHNFdmVudExpc3RlbmVycygpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xuICB9XG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlKVxuICAgICAgLmNvbnRlbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2NvbnRhaW5lcicpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG5cbiAgZGVsZXRlQ2FyZCgpe1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcbiAgfVxuXG4gIF9zZXRzRXZlbnRMaXN0ZW5lcnMoKXtcbiAgICB0aGlzLl9idXR0b25EZWxldGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVDYXJkRGVsZXRlKHRoaXMuX2NhcmRJZCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2soKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2J1dHRvbkxpa2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5fYnV0dG9uTGlrZS5jbGFzc0xpc3QuY29udGFpbnMoJ2VsZW1lbnRzX19saWtlc19hY3RpdmUnKSl7XG4gICAgICAgIHRoaXMuX2hhbmRsZVJlbW92ZUxpa2UodGhpcy5fY2FyZElkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZVNldExpa2UodGhpcy5fY2FyZElkKVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlTGlrZUNhcmQoZGF0YSl7XG4gICAgdGhpcy5fYnV0dG9uTGlrZS5jbGFzc0xpc3QudG9nZ2xlKCdlbGVtZW50c19fbGlrZXNfYWN0aXZlJyk7XG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xuICAgIHRoaXMuX2xpa2VzTnVtYmVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuICB9XG5cbiAgX2lzQ2FyZExpa2VkKCkge1xuICAgIGlmICh0aGlzLl9pc0xpa2VkQnlVc2VyKSB7XG4gICAgICB0aGlzLl9idXR0b25MaWtlLmNsYXNzTGlzdC5hZGQoJ2VsZW1lbnRzX19saWtlc19hY3RpdmUnKTtcbiAgICB9XG4gIH1cblxuICBfaGFzVXNlckxpa2UoKXtcbiAgICByZXR1cm4gdGhpcy5fbGlrZXMuc29tZShlbGVtZW50ID0+IGVsZW1lbnQuX2lkID09PSB0aGlzLl91c2VySWQpO1xuICB9XG5cbiAgX3NldERlbGV0ZUJ0bigpIHtcbiAgICBpZiAodGhpcy5fdXNlcklkICE9PSB0aGlzLl9jYXJkT3duZXJJZCkge1xuICAgICAgdGhpcy5fYnV0dG9uRGVsZXRlLnJlbW92ZSgpO1xuICAgIH1cbiAgfVxufSIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoZm9ybUVsZW1lbnQsIGZvcm1zQ29uZmlnKXtcbiAgICB0aGlzLl9mb3Jtc0NvbmZpZyA9IGZvcm1zQ29uZmlnO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9mb3Jtc0NvbmZpZy5pbnB1dFNlbGVjdG9yKTtcbiAgICB0aGlzLl9idXR0b25TdWJtaXRGb3JtID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9mb3Jtc0NvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgdGhpcy5fZm9ybUZpZWxkcyA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9mb3Jtc0NvbmZpZy5pbnB1dFNlbGVjdG9yKSk7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3RvZ2dsZVN1Ym1pdEJ1dHRvbih7IGRpc2FibGU6IGZhbHNlIH0pO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICByZXNldFZhbGlkYXRpb24oKXtcbiAgICB0aGlzLl90b2dnbGVTdWJtaXRCdXR0b24oeyBkaXNhYmxlOiBmYWxzZSB9KTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlRXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHsgICAgXG4gICAgdGhpcy5fZm9ybUZpZWxkcy5mb3JFYWNoKChlbGVtZW50RmllbGQpID0+IHtcbiAgICAgIGVsZW1lbnRGaWVsZC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgY29uc3QgZmllbGQgPSBlbGVtZW50RmllbGQ7XG4gICAgICAgIHRoaXMuX2NoZWNrRm9ybVZhbGlkaXR5KCk7XG4gICAgICAgIHRoaXMuX2NoZWNrRmllbGRWYWxpZGl0eShmaWVsZCwgdGhpcy5fZmluZEZpZWxkRXJyb3IoZWxlbWVudEZpZWxkKSx0aGlzLl9mb3Jtc0NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgX2ZpbmRGaWVsZEVycm9yKGVsZW1lbnRGaWVsZCl7XG4gICAgY29uc3QgZXJyb3JGaWVsZCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fZm9ybXNDb25maWcuZXJyb3JDbGFzc30ke2VsZW1lbnRGaWVsZC5uYW1lfWApO1xuICAgIHJldHVybiBlcnJvckZpZWxkO1xuICB9XG5cbiAgX2NoZWNrRm9ybVZhbGlkaXR5ID0gKCkgPT4ge1xuICAgIGNvbnN0IGZvcm1Jc1ZhbGlkID0gdGhpcy5fZm9ybUZpZWxkcy5ldmVyeSgoeyB2YWxpZGl0eSB9KSA9PiB2YWxpZGl0eS52YWxpZCk7XG4gICAgdGhpcy5fdG9nZ2xlU3VibWl0QnV0dG9uKHsgZGlzYWJsZTogZm9ybUlzVmFsaWQgfSk7XG4gICAgcmV0dXJuIGZvcm1Jc1ZhbGlkO1xuICB9O1xuXG4gIF9jaGVja0ZpZWxkVmFsaWRpdHkgPSAoZWxlbWVudEZpZWxkLCBlbGVtZW50RXJyb3IsIGludmFsaWRGaWVsZENsYXNzKSA9PiB7XG4gICAgZWxlbWVudEVycm9yLnRleHRDb250ZW50ID0gZWxlbWVudEZpZWxkLnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGlmICghZWxlbWVudEZpZWxkLnZhbGlkKSB7XG4gICAgICBlbGVtZW50RmllbGQuY2xhc3NMaXN0LmFkZChpbnZhbGlkRmllbGRDbGFzcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1lbnRGaWVsZC5jbGFzc0xpc3QucmVtb3ZlKGludmFsaWRGaWVsZENsYXNzKTsgXG4gICAgfVxuICB9O1xuXG4gIF90b2dnbGVTdWJtaXRCdXR0b24gPSAoeyBkaXNhYmxlIH0pID0+IHtcbiAgICAgIHRoaXMuX2J1dHRvblN1Ym1pdEZvcm0uZGlzYWJsZWQgPSAhZGlzYWJsZTtcbiAgfTtcblxuICBfaGlkZUVycm9yKGlucHV0RWxlbWVudCl7XG4gICAgdGhpcy5fZmluZEZpZWxkRXJyb3IoaW5wdXRFbGVtZW50KS50ZXh0Q29udGVudCA9ICcnO1xuICB9XG59IiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcihjb250YWluZXJTZWxlY3RvciwgcmVuZGVyZXIpe1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpe1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpXG4gIH1cblxuICByZW5kZXJJdGVtKGNhcmQpe1xuICAgIHRoaXMuX3JlbmRlcmVyKGNhcmQpXG4gIH1cbn0iLCJleHBvcnQgY2xhc3MgUG9wdXB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3Ipe1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcbiAgICBpZihldnQua2V5ID09PSdFc2NhcGUnKXtcbiAgICAgIHRoaXMuY2xvc2UoKVxuICAgIH1cbiAgfVxuXG4gIG9wZW4oKXtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpXG4gIH1cblxuICBjbG9zZSgpe1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSlcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChldnQpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdvdmVybGF5JykpIHx8XG4gICAgICAgIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfX2Nsb3NlLWljb24nKSlcbiAgICAgICkge1xuICAgICAgICB0aGlzLmNsb3NlKClcbiAgICAgIH1cbiAgICB9KVxuICB9XG59IiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcil7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcGljdHVyZUltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBpY3R1cmVfX2ltYWdlJyk7XG4gICAgdGhpcy5fcGljdHVyZU5hbWUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucGljdHVyZV9fbmFtZScpO1xuICB9XG5cbiAgb3Blbih0aXRsZSwgcGljdHVyZSl7XG4gICAgdGhpcy5fcGljdHVyZUltYWdlLnNyYz1waWN0dXJlO1xuICAgIHRoaXMuX3BpY3R1cmVOYW1lLnRleHRDb250ZW50PXRpdGxlO1xuICAgIHRoaXMuX3BpY3R1cmVJbWFnZS5hbHQ9dGl0bGU7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXB7XG4gIGNvbnN0cnVjdG9yKHtwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0fSl7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybV9faW5wdXQnKTtcbiAgICB0aGlzLl9idG5TdWJtaXQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19zYXZlJyk7XG4gICAgdGhpcy5fYnRuU3VibWl0VGV4dCA9IHRoaXMuX2J0blN1Ym1pdC50ZXh0Q29udGVudDtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpe1xuICAgIHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlc1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKXtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgfSk7XG4gIH1cblxuICBjbG9zZSgpe1xuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcbiAgICBzdXBlci5jbG9zZSgpO1xuICB9XG5cbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXQudmFsdWUgPSBkYXRhW2lucHV0Lm5hbWVdO1xuICAgIH0pO1xuICB9XG5cbiAgdG9nZ2xlU3VibWl0QnV0dG9uVGV4dChidXR0b25UZXh0KSB7XG4gICAgdGhpcy5fYnRuU3VibWl0LnRleHRDb250ZW50ID0gYnV0dG9uVGV4dDtcbiAgfVxufSIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aFN1Ym1pdCBleHRlbmRzIFBvcHVwe1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKXtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XG4gIH1cblxuICBzZXRTdWJtaXRDYWxsYmFjayhkZWwpe1xuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IGRlbDtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXQoKTtcbiAgICB9KTtcbiAgfVxufSIsImV4cG9ydCBjbGFzcyBVc2VySW5mb3tcbiAgY29uc3RydWN0b3IobmFtZVNlbGVjdG9yLCBqb2JTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3Ipe1xuICAgIHRoaXMuX25hbWVGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9qb2JGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioam9iU2VsZWN0b3IpO1xuICAgIHRoaXMuX2F2YXRhckZpZWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XG4gIH1cblxuICBnZXRVc2VySW5mbygpe1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9uYW1lRmllbGQudGV4dENvbnRlbnQsIFxuICAgICAgbGluazogdGhpcy5fam9iRmllbGQudGV4dENvbnRlbnQsXG4gICAgICBhdmF0YXI6IHRoaXMuX2F2YXRhckZpZWxkLnNyY1xuICAgIH1cbiAgfVxuXG4gIHNldFVzZXJJbmZvKGRhdGEpe1xuICAgIHRoaXMuX25hbWVGaWVsZC50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9qb2JGaWVsZC50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XG4gICAgdGhpcy5fYXZhdGFyRmllbGQuc3JjID0gZGF0YS5hdmF0YXI7XG4gIH1cblxuICBzZXRBdmF0YXIoZGF0YSl7XG4gICAgdGhpcy5fYXZhdGFyRmllbGQuc3JjID0gZGF0YS5hdmF0YXI7XG4gIH1cbn0iLCJleHBvcnQgY2xhc3MgQXBpIHtcbiAgI29uUmVzcG9uY2UocmVzKXtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gIHJldHVybiBQcm9taXNlLnJlamVjdCh7bWVzc2FnZTogJ9Ce0YjQuNCx0LrQsCDQvdCwINGB0YLQvtGA0L7QvdC1INGB0LXRgNCy0LXRgNCwJywgcmVzfSlcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZyl7XG4gICAgdGhpcy5fdXJsID0gY29uZmlnLnVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7XG4gIH1cblxuLy8g0JTQvtCx0LDQstC40YLRjCDQutCw0YDRgtC+0YfQutGDXG4gIGFkZENhcmQoZGF0YSl7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxuICAgIH0pXG4gICAgLnRoZW4odGhpcy4jb25SZXNwb25jZSlcbiAgfVxuXG4vLyDQl9Cw0LHRgNCw0YLRjCDRgSDRgdC10YDQstC10YDQsCDQstGB0LUg0LrQsNGA0YLQvtGH0LrQuFxuICBnZXRBbGxDYXJkcygpe1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSlcbiAgICAudGhlbih0aGlzLiNvblJlc3BvbmNlKVxuICB9XG5cbi8vINCj0LTQsNC70LjRgtGMINC60LDRgNGC0L7Rh9C60YNcbiAgcmVtb3ZlQ2FyZChjYXJkSWQpe1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSlcbiAgICAudGhlbih0aGlzLiNvblJlc3BvbmNlKVxuICB9XG5cbi8vINCX0LDQsdGA0LDRgtGMINGBINGB0LXRgNCy0LXRgNCwINC40L3RhNC+INGO0LfQtdGA0LBcbiAgZ2V0VXNlcnNJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pXG4gICAgLnRoZW4ocmVzID0+IHRoaXMuI29uUmVzcG9uY2UocmVzKSk7XG4gIH1cblxuLy8g0KDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjQtSDQuNC90YTQvtGA0LzQsNGG0LjQuCDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LUg0YfQtdGA0LXQtyDQv9C+0L/QsNC/XG4gIGVkaXRVc2VySW5mbyhkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgICBhYm91dDogZGF0YS5saW5rXG4gICAgICB9KVxuICAgIH0pXG4gICAgLnRoZW4ocmVzID0+IHRoaXMuI29uUmVzcG9uY2UocmVzKSk7XG4gIH1cblxuLy8g0KDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjQtSDQuNC90YTQvtGA0LzQsNGG0LjQuCDQvtCxINCw0LLQsNGC0LDRgNC1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDRh9C10YDQtdC3INC/0L7Qv9Cw0L9cbiAgZWRpdFVzZXJBdmF0YXIoZGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgYXZhdGFyOiBkYXRhLmxpbmtcbiAgICAgIH0pXG4gICAgfSlcbiAgICAudGhlbihyZXMgPT4gdGhpcy4jb25SZXNwb25jZShyZXMpKTtcbiAgfVxuXG4vLyDQoNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC1INC/0L7RgdGC0LDQvdC+0LLQutC4INC70LDQudC60LBcbiAgc2V0TGlrZShjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KVxuICAgIC50aGVuKHJlcyA9PiB0aGlzLiNvblJlc3BvbmNlKHJlcykpO1xuICB9XG5cbiAgcmVtb3ZlTGlrZShjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KVxuICAgIC50aGVuKHJlcyA9PiB0aGlzLiNvblJlc3BvbmNlKHJlcykpO1xuICB9XG59IiwiZXhwb3J0IGNvbnN0IHByb2ZpbGVPcGVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XG5cbmV4cG9ydCBjb25zdCBzZWxlY3RvcnMgPSB7XG4gIGZvcm1DYXJkOiAnLnBvcHVwLWNhcmQnLFxuICBwb3B1cFByb2ZpbGU6ICcucG9wdXAtcHJvZmlsZScsXG4gIHBvcHVwRGVsZXRlQ2FyZDogJy5kZWxldGUtY2FyZCcsXG4gIHBvcHVwQXZhdGFyOiAnLnBvcHVwLWF2YXRhcicsXG4gIGlucHV0TWVzdG86ICduYW1lJyxcbiAgaW5wdXRMaW5rOiAnbGluaycsXG4gIGFkZENhcmQ6ICcucHJvZmlsZV9fYWRkLWVsZW1lbnRzJyxcbiAgdGVtcGxhdGU6ICcjZWxlbWVudC10ZW1wbGF0ZScsXG4gIGNvbnRhaW5lcjogJy5lbGVtZW50c19fY29udGFpbmVyJyxcbiAgbGlzdDogJy5lbGVtZW50cycsXG4gIG1lc3RvVGl0bGU6ICcuZWxlbWVudHNfX25hbWUnLFxuICBtZXN0b0ltYWdlOiAnLmVsZW1lbnRzX19pbWFnZScsXG4gIG1lc3RvZGVsZXRlOiAnLmVsZW1lbnRzX19kZWxldGUnLFxuICBtZXN0b0xpa2U6ICcuZWxlbWVudHNfX2xpa2UnLFxuICBhY3RpdmVMaWtlOiAnZWxlbWVudHNfX2xpa2VzX2FjdGl2ZScsXG4gIGFkZENhcmRGb3JtQ2xvc2U6ICdjbG9zZWNhcmRzJyxcbiAgcG9wdXBJbWFnZTogJy5waWN0dXJlJyxcbiAgcGljdHVyZUltYWdlOiAnLnBpY3R1cmVfX2ltYWdlJyxcbiAgY2xvc2VQaWN0dXJlOidjbG9zZWRwaWN0dXJlJyxcbiAgcGljdHVyZU5hbWU6Jy5waWN0dXJlX19uYW1lJyxcbiAgc3VibWl0Rm9ybTogJy5mb3JtX19zYXZlJyxcbiAgcHJvZmlsZU5hbWU6ICcucHJvZmlsZV9fdGl0bGUnLFxuICBwcm9maWxlSm9iOiAnLnByb2ZpbGVfX3N1YnRpdGxlJyxcbiAgcHJvZmlsZUF2YXRhcjogJy5wcm9maWxlX19hdmF0YXInLFxuICBwcm9maWxlQXZhdGFyQnRuOiAnLnByb2ZpbGVfX2J0bidcbn1cblxuZXhwb3J0IGNvbnN0IGNhcmRBZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5hZGRDYXJkKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMucHJvZmlsZUF2YXRhckJ0bik7XG5cbmV4cG9ydCBjb25zdCBjb25maWdzID0ge1xuICBmb3JtU2VsZWN0b3I6ICcuZm9ybScsXG4gIGlucHV0U2VsZWN0b3I6ICcuZm9ybV9faW5wdXQnLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5mb3JtX19zYXZlJyxcbiAgaW5wdXRFcnJvckNsYXNzOiAnLmZvcm1fX2l0ZW0taW5wdXRfaW52YWxpZCcsXG4gIGVycm9yQ2xhc3M6ICcuZm9ybV9faXRlbS1lcnJvcl9maWVsZF8nLFxuICBzdWJtaXRGb3JtOiAnLmZvcm1fX3NhdmUnXG59O1xuXG5leHBvcnQgY29uc3QgYnV0dG9uVGV4dFN0YXR1cyA9IHtcbiAgc2F2ZTogJ9Ch0L7RhdGA0LDQvdC40YLRjCcsXG4gIGNyZWF0ZTogJ9Ch0L7Qt9C00LDRgtGMJyxcbiAgcHJvY2VzczogJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJ1xufTtcblxuZXhwb3J0IGNvbnN0IHBvcHVwRGVsZXRlQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzLnBvcHVwRGVsZXRlQ2FyZCk7XG5leHBvcnQgY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fTtcblxuIiwiaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5pbXBvcnQge0NhcmR9IGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCB7Rm9ybVZhbGlkYXRvcn0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IHtTZWN0aW9ufSBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQge1BvcHVwV2l0aEltYWdlfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IHtQb3B1cFdpdGhGb3JtfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQge1BvcHVwV2l0aFN1Ym1pdH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0LmpzXCI7XG5pbXBvcnQge1VzZXJJbmZvfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IHtBcGl9IGZyb20gXCIuLi9jb21wb25lbnRzL0FwaVwiO1xuXG5pbXBvcnQge1xuICBwcm9maWxlT3BlbixcbiAgc2VsZWN0b3JzLFxuICBjb25maWdzLFxuICBjYXJkQWRkLFxuICBwcm9maWxlQXZhdGFyLFxuICBmb3JtVmFsaWRhdG9ycyxcbiAgYnV0dG9uVGV4dFN0YXR1c1xufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5cbi8qLS0tQVBJLS0tKi9cbmNvbnN0IGFwaUNvbmZpZyA9IHtcbiAgdXJsOiAnaHR0cHM6Ly9ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC01NCcsXG4gIGhlYWRlcnM6IHtcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgYXV0aG9yaXphdGlvbjogJzdhZDRiMzY3LTk4NjMtNGEwOS05MTM4LWQ4Njc5NGVmZmI1NCdcbiAgfVxufVxuXG5jb25zdCBhcGkgPSBuZXcgQXBpKGFwaUNvbmZpZyk7XG5sZXQgdXNlcklkID0gbnVsbDtcblxuLyotLS3Ql9Cw0LPRgNGD0LfQutCwINCz0L7RgtC+0LLRi9GFINC60LDRgNGC0L7Rh9C10Log0Lgg0LTQsNC90L3Ri9GFINC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtSDRgSDRgdC10YDQstC10YDQsC0tLSovXG5Qcm9taXNlLmFsbChbYXBpLmdldEFsbENhcmRzKCksIGFwaS5nZXRVc2Vyc0luZm8oKV0pXG4gIC50aGVuKChbYWxsQ2FyZHMsIHVzZXJEYXRhXSkgPT4ge1xuICAgIHVzZXJJZCA9IHVzZXJEYXRhLl9pZDtcbiAgICBwcm9maWxlVXNlckluZm8uc2V0VXNlckluZm8odXNlckRhdGEpO1xuICAgIGFsbENhcmRzLnJldmVyc2UoKS5mb3JFYWNoKChjYXJkKSA9PiB7XG4gICAgLy9hbGxDYXJkcy5zbGljZSgwLDkpLmZvckVhY2goKGNhcmQpID0+IHtcbiAgICAgICAgY2FyZFNlY3Rpb24ucmVuZGVySXRlbShjYXJkKVxuICAgIH0pXG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XG4gIH0pO1xuICBcbi8qLS0t0J/QvtC/0LDQvyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPLS0tKi9cbmNvbnN0IHByb2ZpbGVQb3B1cFdpdGhGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBwb3B1cFNlbGVjdG9yOiBzZWxlY3RvcnMucG9wdXBQcm9maWxlLFxuICBoYW5kbGVGb3JtU3VibWl0OiAoZGF0YUZvcm0pID0+IHtcbiAgICBwcm9maWxlUG9wdXBXaXRoRm9ybS50b2dnbGVTdWJtaXRCdXR0b25UZXh0KGJ1dHRvblRleHRTdGF0dXMucHJvY2Vzcyk7XG4gICAgYXBpLmVkaXRVc2VySW5mbyhkYXRhRm9ybSlcbiAgICAgIC50aGVuKChkYXRhRm9ybSkgPT4ge1xuICAgICAgICBwcm9maWxlVXNlckluZm8uc2V0VXNlckluZm8oZGF0YUZvcm0pO1xuICAgICAgICBwcm9maWxlUG9wdXBXaXRoRm9ybS5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LA6ICR7ZXJyfWApO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgcHJvZmlsZVBvcHVwV2l0aEZvcm0udG9nZ2xlU3VibWl0QnV0dG9uVGV4dChidXR0b25UZXh0U3RhdHVzLnNhdmUpO1xuICAgICAgfSk7XG4gIH1cbn0pO1xuXG5wcm9maWxlUG9wdXBXaXRoRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vKi0tLdCf0L7Qv9Cw0L8g0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQsNCy0LDRgtCw0YDQsC0tLSovXG5jb25zdCBhdmF0YXJQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3Rvcjogc2VsZWN0b3JzLnBvcHVwQXZhdGFyLFxuICBoYW5kbGVGb3JtU3VibWl0OiAoZGF0YSkgPT4ge1xuICAgIGF2YXRhclBvcHVwLnRvZ2dsZVN1Ym1pdEJ1dHRvblRleHQoYnV0dG9uVGV4dFN0YXR1cy5wcm9jZXNzKTtcbiAgICBhcGkuZWRpdFVzZXJBdmF0YXIoZGF0YSlcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIHByb2ZpbGVVc2VySW5mby5zZXRBdmF0YXIoZGF0YSk7XG4gICAgICAgIGF2YXRhclBvcHVwLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBhdmF0YXJQb3B1cC50b2dnbGVTdWJtaXRCdXR0b25UZXh0KGJ1dHRvblRleHRTdGF0dXMuc2F2ZSk7XG4gICAgICB9KTtcbiAgfVxufSk7XG5hdmF0YXJQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vKi0tLdCf0L7Qv9Cw0L8g0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQutCw0YDRgtC+0YfQtdC6LS0tKi9cbmNvbnN0IHBsYWNlUG9wdXBXaXRoRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3Rvcjogc2VsZWN0b3JzLmZvcm1DYXJkLCBcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcbiAgICBwbGFjZVBvcHVwV2l0aEZvcm0udG9nZ2xlU3VibWl0QnV0dG9uVGV4dChidXR0b25UZXh0U3RhdHVzLnByb2Nlc3MpO1xuICAgIGFwaS5hZGRDYXJkKGRhdGEpXG4gICAgLnRoZW4oKGRhdGEpID0+e1xuICAgICAgcGxhY2VQb3B1cFdpdGhGb3JtLmNsb3NlKCk7XG4gICAgICBjYXJkU2VjdGlvbi5yZW5kZXJJdGVtKGRhdGEpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LA6ICR7ZXJyfWApO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgcGxhY2VQb3B1cFdpdGhGb3JtLnRvZ2dsZVN1Ym1pdEJ1dHRvblRleHQoYnV0dG9uVGV4dFN0YXR1cy5jcmVhdGUpO1xuICAgIH0pO1xuICB9XG59KTtcblxucGxhY2VQb3B1cFdpdGhGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2Uoc2VsZWN0b3JzLnBvcHVwSW1hZ2UpO1xuaW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKHNlbGVjdG9ycy5saXN0LCAoY2FyZEl0ZW0pID0+IHtcbiAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKHJlbmRlck5ld0NhcmQoY2FyZEl0ZW0pKVxufSk7XG5cbmNvbnN0IHByb2ZpbGVVc2VySW5mbyA9IG5ldyBVc2VySW5mbyhzZWxlY3RvcnMucHJvZmlsZU5hbWUsIHNlbGVjdG9ycy5wcm9maWxlSm9iLCBzZWxlY3RvcnMucHJvZmlsZUF2YXRhcik7XG5cbmNvbnN0IGNhcmREZWxldGVDb25maXJtUG9wdXAgPSBuZXcgUG9wdXBXaXRoU3VibWl0KHNlbGVjdG9ycy5wb3B1cERlbGV0ZUNhcmQpO1xuY2FyZERlbGV0ZUNvbmZpcm1Qb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vL9Ck0YPQvdC60YbQuNC+0L3QsNC7INGB0L7Qt9C00LDQvdC40Y8g0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4XG5mdW5jdGlvbiByZW5kZXJOZXdDYXJkKGRhdGEpIHtcbiAgICBjb25zdCBjYXJkID0gbmV3IENhcmQgKHtcbiAgICAgIGRhdGEsIFxuICAgICAgdGVtcGxhdGU6IHNlbGVjdG9ycy50ZW1wbGF0ZSxcbiAgICAgIHVzZXJJZDogdXNlcklkLFxuXG4gICAgICBoYW5kbGVDYXJkQ2xpY2s6KCkgPT57XG4gICAgICAgIGltYWdlUG9wdXAub3BlbihkYXRhLm5hbWUsIGRhdGEubGluayk7XG4gICAgICB9LFxuXG4gICAgICBoYW5kbGVDYXJkRGVsZXRlOiAoY2FyZElkKSA9PiB7XG4gICAgICAgIGNhcmREZWxldGVDb25maXJtUG9wdXAub3BlbigpO1xuICAgICAgICBjYXJkRGVsZXRlQ29uZmlybVBvcHVwLnNldFN1Ym1pdENhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgICBhcGkucmVtb3ZlQ2FyZChjYXJkSWQpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGNhcmREZWxldGVDb25maXJtUG9wdXAuY2xvc2UoKTtcbiAgICAgICAgICAgICAgY2FyZC5kZWxldGVDYXJkKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICBoYW5kbGVTZXRMaWtlOiAoY2FyZElkKSA9PntcbiAgICAgICAgYXBpLnNldExpa2UoY2FyZElkKVxuICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICBjYXJkLmhhbmRsZUxpa2VDYXJkKGRhdGEpXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XG4gICAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICBoYW5kbGVSZW1vdmVMaWtlOiAoY2FyZElkKSA9PiB7XG4gICAgICAgIGFwaS5yZW1vdmVMaWtlKGNhcmRJZClcbiAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgY2FyZC5oYW5kbGVMaWtlQ2FyZChkYXRhKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LA6ICR7ZXJyfWApO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIHJldHVybiBjYXJkLmNyZWF0ZU5ld0NhcmQoKTtcbn1cblxuZnVuY3Rpb24gb3BlblBvcHVwUHJvZmlsZSgpe1xuICBjb25zdCBpbmZvRnJvbVBhZ2UgPSBwcm9maWxlVXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgcHJvZmlsZVBvcHVwV2l0aEZvcm0uc2V0SW5wdXRWYWx1ZXMoaW5mb0Zyb21QYWdlKTtcbiAgcHJvZmlsZVBvcHVwV2l0aEZvcm0ub3BlbigpO1xuICBmb3JtVmFsaWRhdG9yc1sncHJvZmlsZSddLnJlc2V0VmFsaWRhdGlvbigpO1xufVxuXG5wcm9maWxlT3Blbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Qb3B1cFByb2ZpbGUpO1xuXG5jYXJkQWRkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBmb3JtVmFsaWRhdG9yc1sncGxhY2UnXS5yZXNldFZhbGlkYXRpb24oKTtcbiAgcGxhY2VQb3B1cFdpdGhGb3JtLm9wZW4oKTtcbn0pO1xuXG5wcm9maWxlQXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAvL2Zvcm1WYWxpZGF0b3JzWydwbGFjZSddLnJlc2V0VmFsaWRhdGlvbigpO1xuICBhdmF0YXJQb3B1cC5vcGVuKCk7XG59KTtcblxuZnVuY3Rpb24gZW5hYmxlVmFsaWRhdGlvbihmb3Jtc0NvbmZpZykge1xuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChmb3Jtc0NvbmZpZy5mb3JtU2VsZWN0b3IpKTtcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtRWxlbWVudCwgZm9ybXNDb25maWcpO1xuICAgIGNvbnN0IGZvcm1OYW1lID0gZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJylcbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSB2YWxpZGF0b3I7XG4gICAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbiAgfSk7XG59XG5cbmVuYWJsZVZhbGlkYXRpb24oY29uZmlncyk7XG5cbi8vaHR0cHM6Ly9SZWFkbWFuaWFjLmdpdGh1Yi5pby9tZXN0byAiXSwibmFtZXMiOlsiQ2FyZCIsImRhdGEiLCJ0ZW1wbGF0ZSIsInVzZXJJZCIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZUNhcmREZWxldGUiLCJoYW5kbGVTZXRMaWtlIiwiaGFuZGxlUmVtb3ZlTGlrZSIsInRoaXMiLCJfZGF0YSIsIl9jYXJkSWQiLCJfaWQiLCJfdXNlcklkIiwiX2NhcmRPd25lcklkIiwib3duZXIiLCJfdGVtcGxhdGUiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZUNhcmREZWxldGUiLCJfaGFuZGxlU2V0TGlrZSIsIl9oYW5kbGVSZW1vdmVMaWtlIiwiX2xpa2VzIiwibGlrZXMiLCJfY2FyZEVsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfY2FyZFRpdGxlIiwicXVlcnlTZWxlY3RvciIsInRleHRDb250ZW50IiwiX2NhcmRJbWFnZSIsIl9idXR0b25MaWtlIiwiX2xpa2VzTnVtYmVyIiwic3JjIiwiYWx0IiwiX2J1dHRvbkRlbGV0ZSIsIl9pc0xpa2VkQnlVc2VyIiwiX2hhc1VzZXJMaWtlIiwiX2lzQ2FyZExpa2VkIiwiX3NldERlbGV0ZUJ0biIsImxlbmd0aCIsIl9zZXRzRXZlbnRMaXN0ZW5lcnMiLCJkb2N1bWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJyZW1vdmUiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJ0b2dnbGUiLCJhZGQiLCJzb21lIiwiZWxlbWVudCIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtRWxlbWVudCIsImZvcm1zQ29uZmlnIiwiX2Zvcm1GaWVsZHMiLCJmb3JFYWNoIiwiZWxlbWVudEZpZWxkIiwiZmllbGQiLCJfY2hlY2tGb3JtVmFsaWRpdHkiLCJfY2hlY2tGaWVsZFZhbGlkaXR5IiwiX2ZpbmRGaWVsZEVycm9yIiwiX2Zvcm1zQ29uZmlnIiwiaW5wdXRFcnJvckNsYXNzIiwiZm9ybUlzVmFsaWQiLCJldmVyeSIsInZhbGlkaXR5IiwidmFsaWQiLCJfdG9nZ2xlU3VibWl0QnV0dG9uIiwiZGlzYWJsZSIsImVsZW1lbnRFcnJvciIsImludmFsaWRGaWVsZENsYXNzIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfYnV0dG9uU3VibWl0Rm9ybSIsImRpc2FibGVkIiwiX2Zvcm1FbGVtZW50IiwiX2lucHV0TGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJBcnJheSIsImZyb20iLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJpbnB1dEVsZW1lbnQiLCJfaGlkZUVycm9yIiwiZXJyb3JDbGFzcyIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX2NvbnRhaW5lciIsIl9yZW5kZXJlciIsInByZXBlbmQiLCJjYXJkIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidGFyZ2V0IiwiUG9wdXBXaXRoSW1hZ2UiLCJfcGljdHVyZUltYWdlIiwiX3BpY3R1cmVOYW1lIiwidGl0bGUiLCJwaWN0dXJlIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtIiwiX2J0blN1Ym1pdCIsIl9idG5TdWJtaXRUZXh0IiwiX2Zvcm1WYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwiZSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJidXR0b25UZXh0IiwiUG9wdXBXaXRoU3VibWl0IiwiZGVsIiwiX2hhbmRsZVN1Ym1pdCIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiam9iU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9uYW1lRmllbGQiLCJfam9iRmllbGQiLCJfYXZhdGFyRmllbGQiLCJhdmF0YXIiLCJhYm91dCIsIkFwaSIsImNvbmZpZyIsIl91cmwiLCJ1cmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidGhlbiIsImNhcmRJZCIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJtZXNzYWdlIiwicHJvZmlsZU9wZW4iLCJzZWxlY3RvcnMiLCJjYXJkQWRkIiwicHJvZmlsZUF2YXRhciIsImJ1dHRvblRleHRTdGF0dXMiLCJmb3JtVmFsaWRhdG9ycyIsImFwaSIsImF1dGhvcml6YXRpb24iLCJhbGwiLCJnZXRBbGxDYXJkcyIsImdldFVzZXJzSW5mbyIsImFsbENhcmRzIiwidXNlckRhdGEiLCJwcm9maWxlVXNlckluZm8iLCJzZXRVc2VySW5mbyIsInJldmVyc2UiLCJjYXJkU2VjdGlvbiIsInJlbmRlckl0ZW0iLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJwcm9maWxlUG9wdXBXaXRoRm9ybSIsImRhdGFGb3JtIiwidG9nZ2xlU3VibWl0QnV0dG9uVGV4dCIsImVkaXRVc2VySW5mbyIsImZpbmFsbHkiLCJzZXRFdmVudExpc3RlbmVycyIsImF2YXRhclBvcHVwIiwiZWRpdFVzZXJBdmF0YXIiLCJzZXRBdmF0YXIiLCJwbGFjZVBvcHVwV2l0aEZvcm0iLCJhZGRDYXJkIiwiaW1hZ2VQb3B1cCIsImNhcmRJdGVtIiwiYWRkSXRlbSIsIm9wZW4iLCJjYXJkRGVsZXRlQ29uZmlybVBvcHVwIiwic2V0U3VibWl0Q2FsbGJhY2siLCJyZW1vdmVDYXJkIiwiZGVsZXRlQ2FyZCIsInNldExpa2UiLCJoYW5kbGVMaWtlQ2FyZCIsInJlbW92ZUxpa2UiLCJjcmVhdGVOZXdDYXJkIiwiaW5mb0Zyb21QYWdlIiwiZ2V0VXNlckluZm8iLCJzZXRJbnB1dFZhbHVlcyIsImZvcm1TZWxlY3RvciIsInN1Ym1pdEZvcm0iLCJ2YWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9