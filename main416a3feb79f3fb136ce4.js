(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e){var n=e.data,r=e.template,o=e.userId,i=e.handleCardClick,a=e.handleCardDelete,c=e.handleSetLike,u=e.handleRemoveLike;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._data=n,this._cardId=n._id,this._userId=o,this._cardOwnerId=n.owner._id,this._template=r,this._name=n.name,this._link=n.link,this._handleCardClick=i,this._handleCardDelete=a,this._handleSetLike=c,this._handleRemoveLike=u,this._likes=n.likes}var n,r;return n=t,(r=[{key:"createNewCard",value:function(){return this._cardElement=this._getTemplate(),this._cardTitle=this._cardElement.querySelector(".elements__name"),this._cardTitle.textContent=this._name,this._cardImage=this._cardElement.querySelector(".elements__image"),this._buttonLike=this._cardElement.querySelector(".elements__likes-btn"),this._likesNumber=this._cardElement.querySelector(".elements__likes-number"),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._buttonDelete=this._cardElement.querySelector(".elements__delete"),this._isLikedByUser=this._hasUserLike(),this._isCardLiked(),this._setDeleteBtn(),this._likesNumber.textContent=this._likes.length,this._setsEventListeners(),this._cardElement}},{key:"_getTemplate",value:function(){return document.querySelector(this._template).content.querySelector(".elements__container").cloneNode(!0)}},{key:"deleteCard",value:function(){this._cardElement.remove(),this._cardElement=null}},{key:"_setsEventListeners",value:function(){var e=this;this._buttonDelete.addEventListener("click",(function(){e._handleCardDelete(e._cardId)})),this._cardImage.addEventListener("click",(function(){e._handleCardClick()})),this._buttonLike.addEventListener("click",(function(){e._buttonLike.classList.contains("elements__likes_active")?e._handleRemoveLike(e._cardId):e._handleSetLike(e._cardId)}))}},{key:"handleLikeCard",value:function(e){this._buttonLike.classList.toggle("elements__likes_active"),this._likes=e.likes,this._likesNumber.textContent=this._likes.length}},{key:"_isCardLiked",value:function(){this._isLikedByUser&&this._buttonLike.classList.add("elements__likes_active")}},{key:"_hasUserLike",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._userId}))}},{key:"_setDeleteBtn",value:function(){this._userId!==this._cardOwnerId&&this._buttonDelete.remove()}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function(){function e(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"_setEventListeners",(function(){o._formFields.forEach((function(e){e.addEventListener("input",(function(){var t=e;o._checkFormValidity(),o._checkFieldValidity(t,o._findFieldError(e),o._formsConfig.inputErrorClass)}))}))})),r(this,"_checkFormValidity",(function(){var e=o._formFields.every((function(e){return e.validity.valid}));return o._toggleSubmitButton({disable:e}),e})),r(this,"_checkFieldValidity",(function(e,t,n){t.textContent=e.validationMessage,e.valid?e.classList.remove(n):e.classList.add(n)})),r(this,"_toggleSubmitButton",(function(e){var t=e.disable;o._buttonSubmitForm.disabled=!t})),this._formsConfig=n,this._formElement=t,this._inputList=this._formElement.querySelectorAll(this._formsConfig.inputSelector),this._buttonSubmitForm=this._formElement.querySelector(this._formsConfig.submitButtonSelector),this._formFields=Array.from(this._formElement.querySelectorAll(this._formsConfig.inputSelector))}var t,o;return t=e,(o=[{key:"enableValidation",value:function(){this._toggleSubmitButton({disable:!1}),this._setEventListeners()}},{key:"resetValidation",value:function(){var e=this;this._toggleSubmitButton({disable:!1}),this._inputList.forEach((function(t){e._hideError(t)}))}},{key:"_findFieldError",value:function(e){return this._formElement.querySelector("".concat(this._formsConfig.errorClass).concat(e.name))}},{key:"_hideError",value:function(e){this._findFieldError(e).textContent=""}}])&&n(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._container=document.querySelector(t),this._renderer=n}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"renderItem",value:function(e){this._renderer(e)}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(e){"Escape"===e.key&&o.close()},(n="_handleEscClose")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._popup=document.querySelector(t)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keyup",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keyup",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){(t.target.classList.contains("overlay")||t.target.classList.contains("popup__close-icon"))&&e.close()}))}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=h(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},f.apply(this,arguments)}function h(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function d(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(r);if(o){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._pictureImage=t._popup.querySelector(".picture__image"),t._pictureName=t._popup.querySelector(".picture__name"),t}return t=a,(n=[{key:"open",value:function(e,t){this._pictureImage.src=t,this._pictureName.textContent=e,this._pictureImage.alt=e,f(y(a.prototype),"open",this).call(this)}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(u);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=g(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},v.apply(this,arguments)}function g(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function S(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(r);if(o){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return S(this,e)});function a(e){var t,n=e.popupSelector,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._handleFormSubmit=r,t._form=t._popup.querySelector(".form"),t._inputList=t._form.querySelectorAll(".form__input"),t._btnSubmit=t._form.querySelector(".form__save"),t._btnSubmitText=t._btnSubmit.textContent,t}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;v(w(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())}))}},{key:"close",value:function(){this._form.reset(),v(w(a.prototype),"close",this).call(this)}},{key:"setInputValues",value:function(e){this._inputList.forEach((function(t){t.value=e[t.name]}))}},{key:"toggleSubmitButtonText",value:function(e){this._btnSubmit.textContent=e}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(u);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=j(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},L.apply(this,arguments)}function j(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function I(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(r);if(o){var n=T(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return I(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._form=t._popup.querySelector(".popup__form"),t}return t=a,(n=[{key:"setSubmitCallback",value:function(e){this._handleSubmit=e}},{key:"setEventListeners",value:function(){var e=this;L(T(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("click",(function(t){t.preventDefault(),e._handleSubmit()}))}}])&&C(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(u);function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var q=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameField=document.querySelector(t),this._jobField=document.querySelector(n),this._avatarField=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._nameField.textContent,link:this._jobField.textContent,avatar:this._avatarField.src}}},{key:"setUserInfo",value:function(e){this._nameField.textContent=e.name,this._jobField.textContent=e.about,this._avatarField.src=e.avatar}},{key:"setAvatar",value:function(e){this._avatarField.src=e.avatar}}])&&F(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var A=new WeakSet,D=function(){function e(t){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(n=this,r=A),r.add(n),this._url=t.url,this._headers=t.headers}var t,n;return t=e,(n=[{key:"addCard",value:function(e){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(B(this,A,U))}},{key:"getAllCards",value:function(){return fetch("".concat(this._url,"/cards"),{method:"GET",headers:this._headers}).then(B(this,A,U))}},{key:"removeCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(B(this,A,U))}},{key:"getUsersInfo",value:function(){var e=this;return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:this._headers}).then((function(t){return B(e,A,U).call(e,t)}))}},{key:"editUserInfo",value:function(e){var t=this;return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.link})}).then((function(e){return B(t,A,U).call(t,e)}))}},{key:"editUserAvatar",value:function(e){var t=this;return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.link})}).then((function(e){return B(t,A,U).call(t,e)}))}},{key:"setLike",value:function(e){var t=this;return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"PUT",headers:this._headers}).then((function(e){return B(t,A,U).call(t,e)}))}},{key:"removeLike",value:function(e){var t=this;return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then((function(e){return B(t,A,U).call(t,e)}))}}])&&x(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function U(e){return e.ok?e.json():Promise.reject({message:"Ошибка на стороне сервера",res:e})}var V=document.querySelector(".profile__edit-button"),N=".delete-card",J=document.querySelector(".profile__add-elements"),z=document.querySelector(".profile__btn"),G="Сохранить",H="Сохранение...",M=(document.querySelector(N),{});function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=new D({url:"https://nomoreparties.co/v1/cohort-54",headers:{"Content-Type":"application/json",authorization:"7ad4b367-9863-4a09-9138-d86794effb54"}}),K=null;Promise.all([$.getAllCards(),$.getUsersInfo()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];K=i._id,ne.setUserInfo(i),o.reverse().forEach((function(e){te.renderItem(e)}))})).catch((function(e){console.log("Ошибка: ".concat(e))}));var Q=new E({popupSelector:".popup-profile",handleFormSubmit:function(e){Q.toggleSubmitButtonText(H),$.editUserInfo(e).then((function(e){ne.setUserInfo(e),Q.close()})).catch((function(e){console.log("Ошибка: ".concat(e))})).finally((function(){Q.toggleSubmitButtonText(G)}))}});Q.setEventListeners();var X=new E({popupSelector:".popup-avatar",handleFormSubmit:function(e){X.toggleSubmitButtonText(H),$.editUserAvatar(e).then((function(e){ne.setAvatar(e),X.close()})).catch((function(e){console.log("Ошибка: ".concat(e))})).finally((function(){X.toggleSubmitButtonText(G)}))}});X.setEventListeners();var Y=new E({popupSelector:".popup-card",handleFormSubmit:function(e){Y.toggleSubmitButtonText(H),$.addCard(e).then((function(e){Y.close(),te.renderItem(e)})).catch((function(e){console.log("Ошибка: ".concat(e))})).finally((function(){Y.toggleSubmitButtonText("Создать")}))}});Y.setEventListeners();var Z=new _(".picture");Z.setEventListeners();var ee,te=new a(".elements",(function(e){var n,r;te.addItem((r=new t({data:n=e,template:"#element-template",userId:K,handleCardClick:function(){Z.open(n.name,n.link)},handleCardDelete:function(e){re.open(),re.setSubmitCallback((function(){$.removeCard(e).then((function(){re.close(),r.deleteCard()})).catch((function(e){console.log("Ошибка: ".concat(e))}))}))},handleSetLike:function(e){$.setLike(e).then((function(e){r.handleLikeCard(e)})).catch((function(e){console.log("Ошибка: ".concat(e))}))},handleRemoveLike:function(e){$.removeLike(e).then((function(e){r.handleLikeCard(e)})).catch((function(e){console.log("Ошибка: ".concat(e))}))}})).createNewCard())})),ne=new q(".profile__title",".profile__subtitle",".profile__avatar"),re=new R(N);re.setEventListeners(),V.addEventListener("click",(function(){var e=ne.getUserInfo();Q.setInputValues(e),Q.open(),M.profile.resetValidation()})),J.addEventListener("click",(function(){M.place.resetValidation(),Y.open()})),z.addEventListener("click",(function(){X.open()})),ee={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__save",inputErrorClass:".form__item-input_invalid",errorClass:".form__item-error_field_",submitForm:".form__save"},Array.from(document.querySelectorAll(ee.formSelector)).forEach((function(e){var t=new o(e,ee),n=e.getAttribute("name");M[n]=t,t.enableValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFFBQVFDLElBQVIsa0JBQXVCRixHQUN4QixHQUNKLEVBRUR0SyxpQkFBa0IsU0FBQzRJLEdBQ2pCYSxFQUFJcUMsV0FBV2xELEdBQ1pELE1BQUssU0FBQ2pKLEdBQ0w2RixFQUFLc0csZUFBZW5NLEVBQ3JCLElBQ0EySyxPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQVIsa0JBQXVCRixHQUN4QixHQUNKLEtBR095QixnQkFyRGIsSUFFSy9CLEdBQWtCLElBQUl6QyxFRDNGYixrQkFDRCxxQkFDRyxvQkMyRlhpRSxHQUF5QixJQUFJcEUsRUFBZ0JnQyxHQUNuRG9DLEdBQXVCVixvQkEwRHZCM0IsRUFBWTNHLGlCQUFpQixTQVA3QixXQUNFLElBQU13SixFQUFlaEMsR0FBZ0JpQyxjQUNyQ3hCLEVBQXFCeUIsZUFBZUYsR0FDcEN2QixFQUFxQmMsT0FDckIvQixFQUFBQSxRQUFBQSxpQkFDRCxJQUlESCxFQUFRN0csaUJBQWlCLFNBQVMsV0FDaENnSCxFQUFBQSxNQUFBQSxrQkFDQTBCLEVBQW1CSyxNQUNwQixJQUVEakMsRUFBYzlHLGlCQUFpQixTQUFTLFdBRXRDdUksRUFBWVEsTUFDYixJQUV5QnRJLEdEM0pILENBQ3JCa0osYUFBYyxRQUNkMUgsY0FBZSxlQUNmQyxxQkFBc0IsY0FDdEJoQixnQkFBaUIsNEJBQ2pCc0IsV0FBWSwyQkFDWm9ILFdBQVksZUNzSkt6SCxNQUFNQyxLQUFLeEMsU0FBU29DLGlCQUFpQnZCLEdBQVlrSixlQUN6RGhKLFNBQVEsU0FBQ0gsR0FDaEIsSUFBTXFKLEVBQVksSUFBSXRKLEVBQWNDLEVBQWFDLElBQzNDcUosRUFBV3RKLEVBQVl1SixhQUFhLFFBQzFDL0MsRUFBZThDLEdBQVlELEVBQzNCQSxFQUFVRyxrQkFDWCxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aFN1Ym1pdC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQ2FyZHtcbiAgY29uc3RydWN0b3Ioe2RhdGEsIHRlbXBsYXRlLCB1c2VySWQsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlQ2FyZERlbGV0ZSwgaGFuZGxlU2V0TGlrZSwgaGFuZGxlUmVtb3ZlTGlrZX0pe1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgIHRoaXMuX2NhcmRJZCA9IGRhdGEuX2lkO1xuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcbiAgICB0aGlzLl9jYXJkT3duZXJJZCA9IGRhdGEub3duZXIuX2lkO1xuICAgIHRoaXMuX3RlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICB0aGlzLl9oYW5kbGVDYXJkRGVsZXRlID0gaGFuZGxlQ2FyZERlbGV0ZTtcbiAgICB0aGlzLl9oYW5kbGVTZXRMaWtlID0gaGFuZGxlU2V0TGlrZTtcbiAgICB0aGlzLl9oYW5kbGVSZW1vdmVMaWtlID0gaGFuZGxlUmVtb3ZlTGlrZTtcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XG4gIH1cblxuICBjcmVhdGVOZXdDYXJkKCl7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX2NhcmRUaXRsZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19fbmFtZScpO1xuICAgIHRoaXMuX2NhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19pbWFnZScpO1xuICAgIHRoaXMuX2J1dHRvbkxpa2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2xpa2VzLWJ0bicpO1xuICAgIHRoaXMuX2xpa2VzTnVtYmVyID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19saWtlcy1udW1iZXInKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9idXR0b25EZWxldGUgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2RlbGV0ZScpO1xuICAgIHRoaXMuX2lzTGlrZWRCeVVzZXIgPSB0aGlzLl9oYXNVc2VyTGlrZSgpO1xuICAgIHRoaXMuX2lzQ2FyZExpa2VkKCk7XG4gICAgdGhpcy5fc2V0RGVsZXRlQnRuKClcbiAgICB0aGlzLl9saWtlc051bWJlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcbiAgICB0aGlzLl9zZXRzRXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZSlcbiAgICAgIC5jb250ZW50XG4gICAgICAucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19jb250YWluZXInKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoKXtcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IG51bGw7XG4gIH1cblxuICBfc2V0c0V2ZW50TGlzdGVuZXJzKCl7XG4gICAgdGhpcy5fYnV0dG9uRGVsZXRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZERlbGV0ZSh0aGlzLl9jYXJkSWQpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9idXR0b25MaWtlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuX2J1dHRvbkxpa2UuY2xhc3NMaXN0LmNvbnRhaW5zKCdlbGVtZW50c19fbGlrZXNfYWN0aXZlJykpe1xuICAgICAgICB0aGlzLl9oYW5kbGVSZW1vdmVMaWtlKHRoaXMuX2NhcmRJZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9oYW5kbGVTZXRMaWtlKHRoaXMuX2NhcmRJZClcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZUxpa2VDYXJkKGRhdGEpe1xuICAgIHRoaXMuX2J1dHRvbkxpa2UuY2xhc3NMaXN0LnRvZ2dsZSgnZWxlbWVudHNfX2xpa2VzX2FjdGl2ZScpO1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgICB0aGlzLl9saWtlc051bWJlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcbiAgfVxuXG4gIF9pc0NhcmRMaWtlZCgpIHtcbiAgICBpZiAodGhpcy5faXNMaWtlZEJ5VXNlcikge1xuICAgICAgdGhpcy5fYnV0dG9uTGlrZS5jbGFzc0xpc3QuYWRkKCdlbGVtZW50c19fbGlrZXNfYWN0aXZlJyk7XG4gICAgfVxuICB9XG5cbiAgX2hhc1VzZXJMaWtlKCl7XG4gICAgcmV0dXJuIHRoaXMuX2xpa2VzLnNvbWUoZWxlbWVudCA9PiBlbGVtZW50Ll9pZCA9PT0gdGhpcy5fdXNlcklkKTtcbiAgfVxuXG4gIF9zZXREZWxldGVCdG4oKSB7XG4gICAgaWYgKHRoaXMuX3VzZXJJZCAhPT0gdGhpcy5fY2FyZE93bmVySWQpIHtcbiAgICAgIHRoaXMuX2J1dHRvbkRlbGV0ZS5yZW1vdmUoKTtcbiAgICB9XG4gIH1cbn0iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGZvcm1FbGVtZW50LCBmb3Jtc0NvbmZpZyl7XG4gICAgdGhpcy5fZm9ybXNDb25maWcgPSBmb3Jtc0NvbmZpZztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fZm9ybXNDb25maWcuaW5wdXRTZWxlY3Rvcik7XG4gICAgdGhpcy5fYnV0dG9uU3VibWl0Rm9ybSA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fZm9ybXNDb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICAgIHRoaXMuX2Zvcm1GaWVsZHMgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fZm9ybXNDb25maWcuaW5wdXRTZWxlY3RvcikpO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl90b2dnbGVTdWJtaXRCdXR0b24oeyBkaXNhYmxlOiBmYWxzZSB9KTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgcmVzZXRWYWxpZGF0aW9uKCl7XG4gICAgdGhpcy5fdG9nZ2xlU3VibWl0QnV0dG9uKHsgZGlzYWJsZTogZmFsc2UgfSk7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSk7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7ICAgIFxuICAgIHRoaXMuX2Zvcm1GaWVsZHMuZm9yRWFjaCgoZWxlbWVudEZpZWxkKSA9PiB7XG4gICAgICBlbGVtZW50RmllbGQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGZpZWxkID0gZWxlbWVudEZpZWxkO1xuICAgICAgICB0aGlzLl9jaGVja0Zvcm1WYWxpZGl0eSgpO1xuICAgICAgICB0aGlzLl9jaGVja0ZpZWxkVmFsaWRpdHkoZmllbGQsIHRoaXMuX2ZpbmRGaWVsZEVycm9yKGVsZW1lbnRGaWVsZCksdGhpcy5fZm9ybXNDb25maWcuaW5wdXRFcnJvckNsYXNzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIF9maW5kRmllbGRFcnJvcihlbGVtZW50RmllbGQpe1xuICAgIGNvbnN0IGVycm9yRmllbGQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX2Zvcm1zQ29uZmlnLmVycm9yQ2xhc3N9JHtlbGVtZW50RmllbGQubmFtZX1gKTtcbiAgICByZXR1cm4gZXJyb3JGaWVsZDtcbiAgfVxuXG4gIF9jaGVja0Zvcm1WYWxpZGl0eSA9ICgpID0+IHtcbiAgICBjb25zdCBmb3JtSXNWYWxpZCA9IHRoaXMuX2Zvcm1GaWVsZHMuZXZlcnkoKHsgdmFsaWRpdHkgfSkgPT4gdmFsaWRpdHkudmFsaWQpO1xuICAgIHRoaXMuX3RvZ2dsZVN1Ym1pdEJ1dHRvbih7IGRpc2FibGU6IGZvcm1Jc1ZhbGlkIH0pO1xuICAgIHJldHVybiBmb3JtSXNWYWxpZDtcbiAgfTtcblxuICBfY2hlY2tGaWVsZFZhbGlkaXR5ID0gKGVsZW1lbnRGaWVsZCwgZWxlbWVudEVycm9yLCBpbnZhbGlkRmllbGRDbGFzcykgPT4ge1xuICAgIGVsZW1lbnRFcnJvci50ZXh0Q29udGVudCA9IGVsZW1lbnRGaWVsZC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICBpZiAoIWVsZW1lbnRGaWVsZC52YWxpZCkge1xuICAgICAgZWxlbWVudEZpZWxkLmNsYXNzTGlzdC5hZGQoaW52YWxpZEZpZWxkQ2xhc3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50RmllbGQuY2xhc3NMaXN0LnJlbW92ZShpbnZhbGlkRmllbGRDbGFzcyk7IFxuICAgIH1cbiAgfTtcblxuICBfdG9nZ2xlU3VibWl0QnV0dG9uID0gKHsgZGlzYWJsZSB9KSA9PiB7XG4gICAgICB0aGlzLl9idXR0b25TdWJtaXRGb3JtLmRpc2FibGVkID0gIWRpc2FibGU7XG4gIH07XG5cbiAgX2hpZGVFcnJvcihpbnB1dEVsZW1lbnQpe1xuICAgIHRoaXMuX2ZpbmRGaWVsZEVycm9yKGlucHV0RWxlbWVudCkudGV4dENvbnRlbnQgPSAnJztcbiAgfVxufSIsImV4cG9ydCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoY29udGFpbmVyU2VsZWN0b3IsIHJlbmRlcmVyKXtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KXtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KVxuICB9XG5cbiAgcmVuZGVySXRlbShjYXJkKXtcbiAgICB0aGlzLl9yZW5kZXJlcihjYXJkKVxuICB9XG59IiwiZXhwb3J0IGNsYXNzIFBvcHVwe1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKXtcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XG4gICAgaWYoZXZ0LmtleSA9PT0nRXNjYXBlJyl7XG4gICAgICB0aGlzLmNsb3NlKClcbiAgICB9XG4gIH1cblxuICBvcGVuKCl7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKVxuICB9XG5cbiAgY2xvc2UoKXtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKVxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpXG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnb3ZlcmxheScpKSB8fFxuICAgICAgICAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX19jbG9zZS1pY29uJykpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpXG4gICAgICB9XG4gICAgfSlcbiAgfVxufSIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3Ipe1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BpY3R1cmVJbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5waWN0dXJlX19pbWFnZScpO1xuICAgIHRoaXMuX3BpY3R1cmVOYW1lID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBpY3R1cmVfX25hbWUnKTtcbiAgfVxuXG4gIG9wZW4odGl0bGUsIHBpY3R1cmUpe1xuICAgIHRoaXMuX3BpY3R1cmVJbWFnZS5zcmM9cGljdHVyZTtcbiAgICB0aGlzLl9waWN0dXJlTmFtZS50ZXh0Q29udGVudD10aXRsZTtcbiAgICB0aGlzLl9waWN0dXJlSW1hZ2UuYWx0PXRpdGxlO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwe1xuICBjb25zdHJ1Y3Rvcih7cG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdH0pe1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnLmZvcm1fX2lucHV0Jyk7XG4gICAgdGhpcy5fYnRuU3VibWl0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fc2F2ZScpO1xuICAgIHRoaXMuX2J0blN1Ym1pdFRleHQgPSB0aGlzLl9idG5TdWJtaXQudGV4dENvbnRlbnQ7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKXtcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goaW5wdXQgPT4ge1xuICAgICAgdGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXNcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCl7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgIH0pO1xuICB9XG5cbiAgY2xvc2UoKXtcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgfVxuXG4gIHNldElucHV0VmFsdWVzKGRhdGEpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcbiAgICB9KTtcbiAgfVxuXG4gIHRvZ2dsZVN1Ym1pdEJ1dHRvblRleHQoYnV0dG9uVGV4dCkge1xuICAgIHRoaXMuX2J0blN1Ym1pdC50ZXh0Q29udGVudCA9IGJ1dHRvblRleHQ7XG4gIH1cbn0iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhTdWJtaXQgZXh0ZW5kcyBQb3B1cHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcil7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xuICB9XG5cbiAgc2V0U3VibWl0Q2FsbGJhY2soZGVsKXtcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXQgPSBkZWw7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlU3VibWl0KCk7XG4gICAgfSk7XG4gIH1cbn0iLCJleHBvcnQgY2xhc3MgVXNlckluZm97XG4gIGNvbnN0cnVjdG9yKG5hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yKXtcbiAgICB0aGlzLl9uYW1lRmllbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fam9iRmllbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpvYlNlbGVjdG9yKTtcbiAgICB0aGlzLl9hdmF0YXJGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKXtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fbmFtZUZpZWxkLnRleHRDb250ZW50LCBcbiAgICAgIGxpbms6IHRoaXMuX2pvYkZpZWxkLnRleHRDb250ZW50LFxuICAgICAgYXZhdGFyOiB0aGlzLl9hdmF0YXJGaWVsZC5zcmNcbiAgICB9XG4gIH1cblxuICBzZXRVc2VySW5mbyhkYXRhKXtcbiAgICB0aGlzLl9uYW1lRmllbGQudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fam9iRmllbGQudGV4dENvbnRlbnQgPSBkYXRhLmFib3V0O1xuICAgIHRoaXMuX2F2YXRhckZpZWxkLnNyYyA9IGRhdGEuYXZhdGFyO1xuICB9XG5cbiAgc2V0QXZhdGFyKGRhdGEpe1xuICAgIHRoaXMuX2F2YXRhckZpZWxkLnNyYyA9IGRhdGEuYXZhdGFyO1xuICB9XG59IiwiZXhwb3J0IGNsYXNzIEFwaSB7XG4gICNvblJlc3BvbmNlKHJlcyl7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfVxuICByZXR1cm4gUHJvbWlzZS5yZWplY3Qoe21lc3NhZ2U6ICfQntGI0LjQsdC60LAg0L3QsCDRgdGC0L7RgNC+0L3QtSDRgdC10YDQstC10YDQsCcsIHJlc30pXG4gIH1cblxuICBjb25zdHJ1Y3Rvcihjb25maWcpe1xuICAgIHRoaXMuX3VybCA9IGNvbmZpZy51cmw7XG4gICAgdGhpcy5faGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzO1xuICB9XG5cbi8vINCU0L7QsdCw0LLQuNGC0Ywg0LrQsNGA0YLQvtGH0LrRg1xuICBhZGRDYXJkKGRhdGEpe1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSlcbiAgICB9KVxuICAgIC50aGVuKHRoaXMuI29uUmVzcG9uY2UpXG4gIH1cblxuLy8g0JfQsNCx0YDQsNGC0Ywg0YEg0YHQtdGA0LLQtdGA0LAg0LLRgdC1INC60LDRgNGC0L7Rh9C60LhcbiAgZ2V0QWxsQ2FyZHMoKXtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pXG4gICAgLnRoZW4odGhpcy4jb25SZXNwb25jZSlcbiAgfVxuXG4vLyDQo9C00LDQu9C40YLRjCDQutCw0YDRgtC+0YfQutGDXG4gIHJlbW92ZUNhcmQoY2FyZElkKXtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pXG4gICAgLnRoZW4odGhpcy4jb25SZXNwb25jZSlcbiAgfVxuXG4vLyDQl9Cw0LHRgNCw0YLRjCDRgSDRgdC10YDQstC10YDQsCDQuNC90YTQviDRjtC30LXRgNCwXG4gIGdldFVzZXJzSW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZWAsIHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KVxuICAgIC50aGVuKHJlcyA9PiB0aGlzLiNvblJlc3BvbmNlKHJlcykpO1xuICB9XG5cbi8vINCg0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40LUg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1INGH0LXRgNC10Lcg0L/QvtC/0LDQv1xuICBlZGl0VXNlckluZm8oZGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgICAgYWJvdXQ6IGRhdGEubGlua1xuICAgICAgfSlcbiAgICB9KVxuICAgIC50aGVuKHJlcyA9PiB0aGlzLiNvblJlc3BvbmNlKHJlcykpO1xuICB9XG5cbi8vINCg0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40LUg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L7QsSDQsNCy0LDRgtCw0YDQtSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0YfQtdGA0LXQtyDQv9C+0L/QsNC/XG4gIGVkaXRVc2VyQXZhdGFyKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGF2YXRhcjogZGF0YS5saW5rXG4gICAgICB9KVxuICAgIH0pXG4gICAgLnRoZW4ocmVzID0+IHRoaXMuI29uUmVzcG9uY2UocmVzKSk7XG4gIH1cblxuLy8g0KDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjQtSDQv9C+0YHRgtCw0L3QvtCy0LrQuCDQu9Cw0LnQutCwXG4gIHNldExpa2UoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSlcbiAgICAudGhlbihyZXMgPT4gdGhpcy4jb25SZXNwb25jZShyZXMpKTtcbiAgfVxuXG4gIHJlbW92ZUxpa2UoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSlcbiAgICAudGhlbihyZXMgPT4gdGhpcy4jb25SZXNwb25jZShyZXMpKTtcbiAgfVxufSIsImV4cG9ydCBjb25zdCBwcm9maWxlT3BlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpO1xuXG5leHBvcnQgY29uc3Qgc2VsZWN0b3JzID0ge1xuICBmb3JtQ2FyZDogJy5wb3B1cC1jYXJkJyxcbiAgcG9wdXBQcm9maWxlOiAnLnBvcHVwLXByb2ZpbGUnLFxuICBwb3B1cERlbGV0ZUNhcmQ6ICcuZGVsZXRlLWNhcmQnLFxuICBwb3B1cEF2YXRhcjogJy5wb3B1cC1hdmF0YXInLFxuICBpbnB1dE1lc3RvOiAnbmFtZScsXG4gIGlucHV0TGluazogJ2xpbmsnLFxuICBhZGRDYXJkOiAnLnByb2ZpbGVfX2FkZC1lbGVtZW50cycsXG4gIHRlbXBsYXRlOiAnI2VsZW1lbnQtdGVtcGxhdGUnLFxuICBjb250YWluZXI6ICcuZWxlbWVudHNfX2NvbnRhaW5lcicsXG4gIGxpc3Q6ICcuZWxlbWVudHMnLFxuICBtZXN0b1RpdGxlOiAnLmVsZW1lbnRzX19uYW1lJyxcbiAgbWVzdG9JbWFnZTogJy5lbGVtZW50c19faW1hZ2UnLFxuICBtZXN0b2RlbGV0ZTogJy5lbGVtZW50c19fZGVsZXRlJyxcbiAgbWVzdG9MaWtlOiAnLmVsZW1lbnRzX19saWtlJyxcbiAgYWN0aXZlTGlrZTogJ2VsZW1lbnRzX19saWtlc19hY3RpdmUnLFxuICBhZGRDYXJkRm9ybUNsb3NlOiAnY2xvc2VjYXJkcycsXG4gIHBvcHVwSW1hZ2U6ICcucGljdHVyZScsXG4gIHBpY3R1cmVJbWFnZTogJy5waWN0dXJlX19pbWFnZScsXG4gIGNsb3NlUGljdHVyZTonY2xvc2VkcGljdHVyZScsXG4gIHBpY3R1cmVOYW1lOicucGljdHVyZV9fbmFtZScsXG4gIHN1Ym1pdEZvcm06ICcuZm9ybV9fc2F2ZScsXG4gIHByb2ZpbGVOYW1lOiAnLnByb2ZpbGVfX3RpdGxlJyxcbiAgcHJvZmlsZUpvYjogJy5wcm9maWxlX19zdWJ0aXRsZScsXG4gIHByb2ZpbGVBdmF0YXI6ICcucHJvZmlsZV9fYXZhdGFyJyxcbiAgcHJvZmlsZUF2YXRhckJ0bjogJy5wcm9maWxlX19idG4nXG59XG5cbmV4cG9ydCBjb25zdCBjYXJkQWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMuYWRkQ2FyZCk7XG5leHBvcnQgY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzLnByb2ZpbGVBdmF0YXJCdG4pO1xuXG5leHBvcnQgY29uc3QgY29uZmlncyA9IHtcbiAgZm9ybVNlbGVjdG9yOiAnLmZvcm0nLFxuICBpbnB1dFNlbGVjdG9yOiAnLmZvcm1fX2lucHV0JyxcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcuZm9ybV9fc2F2ZScsXG4gIGlucHV0RXJyb3JDbGFzczogJy5mb3JtX19pdGVtLWlucHV0X2ludmFsaWQnLFxuICBlcnJvckNsYXNzOiAnLmZvcm1fX2l0ZW0tZXJyb3JfZmllbGRfJyxcbiAgc3VibWl0Rm9ybTogJy5mb3JtX19zYXZlJ1xufTtcblxuZXhwb3J0IGNvbnN0IGJ1dHRvblRleHRTdGF0dXMgPSB7XG4gIHNhdmU6ICfQodC+0YXRgNCw0L3QuNGC0YwnLFxuICBjcmVhdGU6ICfQodC+0LfQtNCw0YLRjCcsXG4gIHByb2Nlc3M6ICfQodC+0YXRgNCw0L3QtdC90LjQtS4uLidcbn07XG5cbmV4cG9ydCBjb25zdCBwb3B1cERlbGV0ZUNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5wb3B1cERlbGV0ZUNhcmQpO1xuZXhwb3J0IGNvbnN0IGZvcm1WYWxpZGF0b3JzID0ge307XG5cbiIsImltcG9ydCAnLi9pbmRleC5jc3MnO1xuaW1wb3J0IHtDYXJkfSBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQge0Zvcm1WYWxpZGF0b3J9IGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCB7U2VjdGlvbn0gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IHtQb3B1cFdpdGhJbWFnZX0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCB7UG9wdXBXaXRoRm9ybX0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IHtQb3B1cFdpdGhTdWJtaXR9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aFN1Ym1pdC5qc1wiO1xuaW1wb3J0IHtVc2VySW5mb30gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCB7QXBpfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGlcIjtcblxuaW1wb3J0IHtcbiAgcHJvZmlsZU9wZW4sXG4gIHNlbGVjdG9ycyxcbiAgY29uZmlncyxcbiAgY2FyZEFkZCxcbiAgcHJvZmlsZUF2YXRhcixcbiAgZm9ybVZhbGlkYXRvcnMsXG4gIGJ1dHRvblRleHRTdGF0dXNcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuXG4vKi0tLUFQSS0tLSovXG5jb25zdCBhcGlDb25maWcgPSB7XG4gIHVybDogJ2h0dHBzOi8vbm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNTQnLFxuICBoZWFkZXJzOiB7XG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIGF1dGhvcml6YXRpb246ICc3YWQ0YjM2Ny05ODYzLTRhMDktOTEzOC1kODY3OTRlZmZiNTQnXG4gIH1cbn1cblxuY29uc3QgYXBpID0gbmV3IEFwaShhcGlDb25maWcpO1xubGV0IHVzZXJJZCA9IG51bGw7XG5cbi8qLS0t0JfQsNCz0YDRg9C30LrQsCDQs9C+0YLQvtCy0YvRhSDQutCw0YDRgtC+0YfQtdC6INC4INC00LDQvdC90YvRhSDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LUg0YEg0YHQtdGA0LLQtdGA0LAtLS0qL1xuUHJvbWlzZS5hbGwoW2FwaS5nZXRBbGxDYXJkcygpLCBhcGkuZ2V0VXNlcnNJbmZvKCldKVxuICAudGhlbigoW2FsbENhcmRzLCB1c2VyRGF0YV0pID0+IHtcbiAgICB1c2VySWQgPSB1c2VyRGF0YS5faWQ7XG4gICAgcHJvZmlsZVVzZXJJbmZvLnNldFVzZXJJbmZvKHVzZXJEYXRhKTtcbiAgICBhbGxDYXJkcy5yZXZlcnNlKCkuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgIC8vYWxsQ2FyZHMuc2xpY2UoMCw5KS5mb3JFYWNoKChjYXJkKSA9PiB7XG4gICAgICAgIGNhcmRTZWN0aW9uLnJlbmRlckl0ZW0oY2FyZClcbiAgICB9KVxuICB9KVxuICAuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LA6ICR7ZXJyfWApO1xuICB9KTtcbiAgXG4vKi0tLdCf0L7Qv9Cw0L8g0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRjy0tLSovXG5jb25zdCBwcm9maWxlUG9wdXBXaXRoRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3Rvcjogc2VsZWN0b3JzLnBvcHVwUHJvZmlsZSxcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGFGb3JtKSA9PiB7XG4gICAgcHJvZmlsZVBvcHVwV2l0aEZvcm0udG9nZ2xlU3VibWl0QnV0dG9uVGV4dChidXR0b25UZXh0U3RhdHVzLnByb2Nlc3MpO1xuICAgIGFwaS5lZGl0VXNlckluZm8oZGF0YUZvcm0pXG4gICAgICAudGhlbigoZGF0YUZvcm0pID0+IHtcbiAgICAgICAgcHJvZmlsZVVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGFGb3JtKTtcbiAgICAgICAgcHJvZmlsZVBvcHVwV2l0aEZvcm0uY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycn1gKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIHByb2ZpbGVQb3B1cFdpdGhGb3JtLnRvZ2dsZVN1Ym1pdEJ1dHRvblRleHQoYnV0dG9uVGV4dFN0YXR1cy5zYXZlKTtcbiAgICAgIH0pO1xuICB9XG59KTtcblxucHJvZmlsZVBvcHVwV2l0aEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLyotLS3Qn9C+0L/QsNC/INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0LDQstCw0YLQsNGA0LAtLS0qL1xuY29uc3QgYXZhdGFyUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHBvcHVwU2VsZWN0b3I6IHNlbGVjdG9ycy5wb3B1cEF2YXRhcixcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcbiAgICBhdmF0YXJQb3B1cC50b2dnbGVTdWJtaXRCdXR0b25UZXh0KGJ1dHRvblRleHRTdGF0dXMucHJvY2Vzcyk7XG4gICAgYXBpLmVkaXRVc2VyQXZhdGFyKGRhdGEpXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICBwcm9maWxlVXNlckluZm8uc2V0QXZhdGFyKGRhdGEpO1xuICAgICAgICBhdmF0YXJQb3B1cC5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LA6ICR7ZXJyfWApO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgYXZhdGFyUG9wdXAudG9nZ2xlU3VibWl0QnV0dG9uVGV4dChidXR0b25UZXh0U3RhdHVzLnNhdmUpO1xuICAgICAgfSk7XG4gIH1cbn0pO1xuYXZhdGFyUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLyotLS3Qn9C+0L/QsNC/INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0LrQsNGA0YLQvtGH0LXQui0tLSovXG5jb25zdCBwbGFjZVBvcHVwV2l0aEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHBvcHVwU2VsZWN0b3I6IHNlbGVjdG9ycy5mb3JtQ2FyZCwgXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChkYXRhKSA9PiB7XG4gICAgcGxhY2VQb3B1cFdpdGhGb3JtLnRvZ2dsZVN1Ym1pdEJ1dHRvblRleHQoYnV0dG9uVGV4dFN0YXR1cy5wcm9jZXNzKTtcbiAgICBhcGkuYWRkQ2FyZChkYXRhKVxuICAgIC50aGVuKChkYXRhKSA9PntcbiAgICAgIHBsYWNlUG9wdXBXaXRoRm9ybS5jbG9zZSgpO1xuICAgICAgY2FyZFNlY3Rpb24ucmVuZGVySXRlbShkYXRhKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycn1gKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIHBsYWNlUG9wdXBXaXRoRm9ybS50b2dnbGVTdWJtaXRCdXR0b25UZXh0KGJ1dHRvblRleHRTdGF0dXMuY3JlYXRlKTtcbiAgICB9KTtcbiAgfVxufSk7XG5cbnBsYWNlUG9wdXBXaXRoRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKHNlbGVjdG9ycy5wb3B1cEltYWdlKTtcbmltYWdlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgY2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbihzZWxlY3RvcnMubGlzdCwgKGNhcmRJdGVtKSA9PiB7XG4gICAgY2FyZFNlY3Rpb24uYWRkSXRlbShyZW5kZXJOZXdDYXJkKGNhcmRJdGVtKSlcbn0pO1xuXG5jb25zdCBwcm9maWxlVXNlckluZm8gPSBuZXcgVXNlckluZm8oc2VsZWN0b3JzLnByb2ZpbGVOYW1lLCBzZWxlY3RvcnMucHJvZmlsZUpvYiwgc2VsZWN0b3JzLnByb2ZpbGVBdmF0YXIpO1xuXG5jb25zdCBjYXJkRGVsZXRlQ29uZmlybVBvcHVwID0gbmV3IFBvcHVwV2l0aFN1Ym1pdChzZWxlY3RvcnMucG9wdXBEZWxldGVDYXJkKTtcbmNhcmREZWxldGVDb25maXJtUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy/QpNGD0L3QutGG0LjQvtC90LDQuyDRgdC+0LfQtNCw0L3QuNGPINC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQuFxuZnVuY3Rpb24gcmVuZGVyTmV3Q2FyZChkYXRhKSB7XG4gICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkICh7XG4gICAgICBkYXRhLCBcbiAgICAgIHRlbXBsYXRlOiBzZWxlY3RvcnMudGVtcGxhdGUsXG4gICAgICB1c2VySWQ6IHVzZXJJZCxcblxuICAgICAgaGFuZGxlQ2FyZENsaWNrOigpID0+e1xuICAgICAgICBpbWFnZVBvcHVwLm9wZW4oZGF0YS5uYW1lLCBkYXRhLmxpbmspO1xuICAgICAgfSxcblxuICAgICAgaGFuZGxlQ2FyZERlbGV0ZTogKGNhcmRJZCkgPT4ge1xuICAgICAgICBjYXJkRGVsZXRlQ29uZmlybVBvcHVwLm9wZW4oKTtcbiAgICAgICAgY2FyZERlbGV0ZUNvbmZpcm1Qb3B1cC5zZXRTdWJtaXRDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgICAgYXBpLnJlbW92ZUNhcmQoY2FyZElkKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBjYXJkRGVsZXRlQ29uZmlybVBvcHVwLmNsb3NlKCk7XG4gICAgICAgICAgICAgIGNhcmQuZGVsZXRlQ2FyZCgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LA6ICR7ZXJyfWApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgaGFuZGxlU2V0TGlrZTogKGNhcmRJZCkgPT57XG4gICAgICAgIGFwaS5zZXRMaWtlKGNhcmRJZClcbiAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgY2FyZC5oYW5kbGVMaWtlQ2FyZChkYXRhKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LA6ICR7ZXJyfWApO1xuICAgICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgaGFuZGxlUmVtb3ZlTGlrZTogKGNhcmRJZCkgPT4ge1xuICAgICAgICBhcGkucmVtb3ZlTGlrZShjYXJkSWQpXG4gICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGNhcmQuaGFuZGxlTGlrZUNhcmQoZGF0YSlcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycn1gKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICByZXR1cm4gY2FyZC5jcmVhdGVOZXdDYXJkKCk7XG59XG5cbmZ1bmN0aW9uIG9wZW5Qb3B1cFByb2ZpbGUoKXtcbiAgY29uc3QgaW5mb0Zyb21QYWdlID0gcHJvZmlsZVVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIHByb2ZpbGVQb3B1cFdpdGhGb3JtLnNldElucHV0VmFsdWVzKGluZm9Gcm9tUGFnZSk7XG4gIHByb2ZpbGVQb3B1cFdpdGhGb3JtLm9wZW4oKTtcbiAgZm9ybVZhbGlkYXRvcnNbJ3Byb2ZpbGUnXS5yZXNldFZhbGlkYXRpb24oKTtcbn1cblxucHJvZmlsZU9wZW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuUG9wdXBQcm9maWxlKTtcblxuY2FyZEFkZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZm9ybVZhbGlkYXRvcnNbJ3BsYWNlJ10ucmVzZXRWYWxpZGF0aW9uKCk7XG4gIHBsYWNlUG9wdXBXaXRoRm9ybS5vcGVuKCk7XG59KTtcblxucHJvZmlsZUF2YXRhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgLy9mb3JtVmFsaWRhdG9yc1sncGxhY2UnXS5yZXNldFZhbGlkYXRpb24oKTtcbiAgYXZhdGFyUG9wdXAub3BlbigpO1xufSk7XG5cbmZ1bmN0aW9uIGVuYWJsZVZhbGlkYXRpb24oZm9ybXNDb25maWcpIHtcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZm9ybXNDb25maWcuZm9ybVNlbGVjdG9yKSk7XG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XG4gICAgY29uc3QgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUVsZW1lbnQsIGZvcm1zQ29uZmlnKTtcbiAgICBjb25zdCBmb3JtTmFtZSA9IGZvcm1FbGVtZW50LmdldEF0dHJpYnV0ZSgnbmFtZScpXG4gICAgZm9ybVZhbGlkYXRvcnNbZm9ybU5hbWVdID0gdmFsaWRhdG9yO1xuICAgIHZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4gIH0pO1xufVxuXG5lbmFibGVWYWxpZGF0aW9uKGNvbmZpZ3MpO1xuXG4vL2h0dHBzOi8vUmVhZG1hbmlhYy5naXRodWIuaW8vbWVzdG8gIl0sIm5hbWVzIjpbIkNhcmQiLCJkYXRhIiwidGVtcGxhdGUiLCJ1c2VySWQiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVDYXJkRGVsZXRlIiwiaGFuZGxlU2V0TGlrZSIsImhhbmRsZVJlbW92ZUxpa2UiLCJ0aGlzIiwiX2RhdGEiLCJfY2FyZElkIiwiX2lkIiwiX3VzZXJJZCIsIl9jYXJkT3duZXJJZCIsIm93bmVyIiwiX3RlbXBsYXRlIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVDYXJkRGVsZXRlIiwiX2hhbmRsZVNldExpa2UiLCJfaGFuZGxlUmVtb3ZlTGlrZSIsIl9saWtlcyIsImxpa2VzIiwiX2NhcmRFbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX2NhcmRUaXRsZSIsInF1ZXJ5U2VsZWN0b3IiLCJ0ZXh0Q29udGVudCIsIl9jYXJkSW1hZ2UiLCJfYnV0dG9uTGlrZSIsIl9saWtlc051bWJlciIsInNyYyIsImFsdCIsIl9idXR0b25EZWxldGUiLCJfaXNMaWtlZEJ5VXNlciIsIl9oYXNVc2VyTGlrZSIsIl9pc0NhcmRMaWtlZCIsIl9zZXREZWxldGVCdG4iLCJsZW5ndGgiLCJfc2V0c0V2ZW50TGlzdGVuZXJzIiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwicmVtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwidG9nZ2xlIiwiYWRkIiwic29tZSIsImVsZW1lbnQiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUVsZW1lbnQiLCJmb3Jtc0NvbmZpZyIsIl9mb3JtRmllbGRzIiwiZm9yRWFjaCIsImVsZW1lbnRGaWVsZCIsImZpZWxkIiwiX2NoZWNrRm9ybVZhbGlkaXR5IiwiX2NoZWNrRmllbGRWYWxpZGl0eSIsIl9maW5kRmllbGRFcnJvciIsIl9mb3Jtc0NvbmZpZyIsImlucHV0RXJyb3JDbGFzcyIsImZvcm1Jc1ZhbGlkIiwiZXZlcnkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX3RvZ2dsZVN1Ym1pdEJ1dHRvbiIsImRpc2FibGUiLCJlbGVtZW50RXJyb3IiLCJpbnZhbGlkRmllbGRDbGFzcyIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2J1dHRvblN1Ym1pdEZvcm0iLCJkaXNhYmxlZCIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dExpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiQXJyYXkiLCJmcm9tIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiaW5wdXRFbGVtZW50IiwiX2hpZGVFcnJvciIsImVycm9yQ2xhc3MiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9jb250YWluZXIiLCJfcmVuZGVyZXIiLCJwcmVwZW5kIiwiY2FyZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsImV2dCIsImtleSIsImNsb3NlIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInRhcmdldCIsIlBvcHVwV2l0aEltYWdlIiwiX3BpY3R1cmVJbWFnZSIsIl9waWN0dXJlTmFtZSIsInRpdGxlIiwicGljdHVyZSIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfZm9ybSIsIl9idG5TdWJtaXQiLCJfYnRuU3VibWl0VGV4dCIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiYnV0dG9uVGV4dCIsIlBvcHVwV2l0aFN1Ym1pdCIsImRlbCIsIl9oYW5kbGVTdWJtaXQiLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImpvYlNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfbmFtZUZpZWxkIiwiX2pvYkZpZWxkIiwiX2F2YXRhckZpZWxkIiwiYXZhdGFyIiwiYWJvdXQiLCJBcGkiLCJjb25maWciLCJfdXJsIiwidXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiZmV0Y2giLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInRoZW4iLCJjYXJkSWQiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0IiwibWVzc2FnZSIsInByb2ZpbGVPcGVuIiwic2VsZWN0b3JzIiwiY2FyZEFkZCIsInByb2ZpbGVBdmF0YXIiLCJidXR0b25UZXh0U3RhdHVzIiwiZm9ybVZhbGlkYXRvcnMiLCJhcGkiLCJhdXRob3JpemF0aW9uIiwiYWxsIiwiZ2V0QWxsQ2FyZHMiLCJnZXRVc2Vyc0luZm8iLCJhbGxDYXJkcyIsInVzZXJEYXRhIiwicHJvZmlsZVVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJyZXZlcnNlIiwiY2FyZFNlY3Rpb24iLCJyZW5kZXJJdGVtIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwicHJvZmlsZVBvcHVwV2l0aEZvcm0iLCJkYXRhRm9ybSIsInRvZ2dsZVN1Ym1pdEJ1dHRvblRleHQiLCJlZGl0VXNlckluZm8iLCJmaW5hbGx5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJhdmF0YXJQb3B1cCIsImVkaXRVc2VyQXZhdGFyIiwic2V0QXZhdGFyIiwicGxhY2VQb3B1cFdpdGhGb3JtIiwiYWRkQ2FyZCIsImltYWdlUG9wdXAiLCJjYXJkSXRlbSIsImFkZEl0ZW0iLCJvcGVuIiwiY2FyZERlbGV0ZUNvbmZpcm1Qb3B1cCIsInNldFN1Ym1pdENhbGxiYWNrIiwicmVtb3ZlQ2FyZCIsImRlbGV0ZUNhcmQiLCJzZXRMaWtlIiwiaGFuZGxlTGlrZUNhcmQiLCJyZW1vdmVMaWtlIiwiY3JlYXRlTmV3Q2FyZCIsImluZm9Gcm9tUGFnZSIsImdldFVzZXJJbmZvIiwic2V0SW5wdXRWYWx1ZXMiLCJmb3JtU2VsZWN0b3IiLCJzdWJtaXRGb3JtIiwidmFsaWRhdG9yIiwiZm9ybU5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJlbmFibGVWYWxpZGF0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==